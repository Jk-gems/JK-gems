<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.K Gems - Exquisite Gemstones & Spiritual Items</title>
    <meta name="description" content="Explore exquisite gemstones, Rudraksha, and spiritual items from J.K Gems, a trusted firm serving Junagadh since 1965.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;600;700&family=Lora:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        :root {
            --color-accent-copper: #B87333;
            --color-slate-blue: #526173;
            --color-light-grey: #D3D3D3;
            --color-dark-blue: #222831;
            --color-white: #FFFFFF;
            --primary-color: var(--color-accent-copper);
            --secondary-color: var(--color-slate-blue);
            --background-color: var(--color-dark-blue);
            --surface-color: #2a323f;
            --text-color-dark: var(--color-light-grey);
            --text-color-medium: var(--color-light-grey);
            --text-color-secondary: var(--color-slate-blue);
            --border-color: #3b4555;
            --whatsapp-green: #25D366;
            --whatsapp-green-hover: #1DA851;
            --footer-text-color: var(--text-color-secondary);
            --section-padding-vertical: 100px;
            --section-padding-horizontal: 25px;
            --shadow-deep: 0 12px 24px rgba(0,0,0,0.7);
            --shadow-medium: 0 8px 16px rgba(0,0,0,0.6);
            --shadow-light: 0 4px 8px rgba(0,0,0,0.5);
            --gradient-primary: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            --gradient-highlight: linear-gradient(90deg, var(--primary-color), var(--color-slate-blue));
            --button-primary-bg: var(--primary-color);
            --button-primary-text: var(--background-color);
            --button-primary-hover-bg: var(--secondary-color);
            --button-primary-hover-text: var(--background-color);
            --button-secondary-bg: var(--secondary-color);
            --button-secondary-text: var(--background-color);
            --button-secondary-hover-bg: var(--primary-color);
            --button-secondary-hover-text: var(--background-color);
            --color-alert: #cf6679;
            --color-error-text: #cf6679;
        }

        /* Enhanced Gemstone Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes sparkle {
            0% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }

        .product:hover::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 10%, transparent 70%);
            animation: sparkle 0.8s ease-out;
            pointer-events: none;
        }

        /* Improved Grid Layout */
        .category-grid, .category-products-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px; /* Increased gap */
            padding: 20px 0; /* Added padding */
        }

        /* Enhanced Product Cards */
        .product {
            /* REFINED CARD STYLE from old CSS, merged with new perspective enhancements */
            border: 1px solid var(--border-color);
            padding: 0;
            text-align: left;
            background-color: var(--surface-color);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            /* overflow: hidden; Removed for 3D effect, manage child overflow if needed */
            box-shadow: var(--shadow-light);
            transform-style: preserve-3d; /* From new */
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1); /* From new, replacing old transition */
            position: relative; /* From new */
            overflow: visible; /* From new */
        }

        .product:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg); /* From new, enhanced hover */
            box-shadow: 0 20px 40px rgba(0,0,0,0.8); /* From new, deeper shadow */
            border-color: var(--primary-color);
            background-color: #333c4b;
        }


        /* Floating Gemstone Particles */
        .gem-particle {
            position: absolute; /* Changed to absolute if particlesContainer is fixed. Or fixed if particlesContainer is body */
            width: 15px;
            height: 15px;
            background: var(--primary-color);
            opacity: 0.3; /* Reduced opacity */
            animation: float 6s infinite ease-in-out; /* Added ease-in-out */
            border-radius: 50%;
            pointer-events: none; /* Ensure particles don't interfere */
        }

        /* Enhanced Image Zoom */
        .product img {
            /* From old CSS */
            width: 100%;
            height: 280px;
            object-fit: cover;
            margin-bottom: 0;
            border-bottom: 1px solid var(--border-color);
            cursor: zoom-in;
            filter: brightness(0.9);
            outline: none;
            /* From new CSS */
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), border-color 0.3s ease, filter 0.3s ease; /* Merged transitions */
        }

        .product img:hover {
            /* From new CSS */
            transform: scale(1.1) rotateZ(1deg); /* Enhanced zoom */
            /* From old CSS */
            filter: brightness(1.1);
            border-color: var(--primary-color);
        }
         .product img:focus { /* From old CSS, ensure it's still relevant */
             outline: 3px solid var(--primary-color);
             outline-offset: 3px;
             border-color: var(--primary-color);
             filter: brightness(1.1);
         }


        /* Modern Cart Notification */
        .cart-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: var(--background-color);
            padding: 15px 25px;
            border-radius: 30px; /* Pill shape */
            box-shadow: var(--shadow-deep);
            transform: translateY(100px); /* Start off-screen */
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 10000; /* Ensure it's above most elements */
        }

        .cart-notification.show {
            transform: translateY(0); /* Slide in */
        }

        /* --- Base Styles (from old code, potentially adjusted by new :root) --- */
         body {
             font-family: 'Lato', sans-serif;
             font-weight: 400;
             margin: 0;
             padding: 0;
             background-color: var(--background-color);
             color: var(--text-color-medium);
             line-height: 1.6;
             overflow-x: hidden;
             scroll-behavior: smooth;
             background-image: linear-gradient(45deg, #2c3440 25%, transparent 25%, transparent 75%, #2c3440 75%, #2c3440),
                               linear-gradient(-45deg, #2c3440 25%, transparent 25%, transparent 75%, #2c3440 75%, #2c3440);
             background-size: 20px 20px;
         }

         h1, h2, h3, h4, h5, h6 {
             font-family: 'Lora', serif;
             color: var(--primary-color);
             line-height: 1.3;
             margin-top: 0;
             letter-spacing: 0.5px;
         }

         h2 {
             font-size: 2.8em;
             margin-bottom: 40px;
             text-align: center;
             font-weight: 700;
             position: relative;
             padding-bottom: 15px;
         }
          h2::after {
              content: ''; position: absolute; bottom: 0; left: 50%;
              transform: translateX(-50%); height: 3px; width: 80px;
              background: var(--gradient-primary);
              border-radius: 2px;
          }

         h3 { /* This specific h3 styling might be overridden by .product-info h3 etc. */
             font-size: 1.8em;
             margin-bottom: 20px;
             font-weight: 600;
             color: var(--text-color-dark);
         }

         p {
             margin-bottom: 1.2em;
             color: var(--text-color-medium);
         }

         a {
             color: var(--primary-color);
             text-decoration: none;
             transition: color 0.3s ease;
         }

         a:hover {
             color: var(--secondary-color);
         }

         .container {
             max-width: 1200px;
             margin: 0 auto;
             padding: 0 var(--section-padding-horizontal);
         }

         .section {
             padding: var(--section-padding-vertical) 0;
             text-align: center;
             background-color: var(--background-color);
             border-bottom: 1px solid var(--border-color);
             position: relative;
             overflow: hidden; /* Keep for sections */
             /* Initial state for scroll-in animation, will be managed by AOS */
             /* opacity: 0; */
             /* transform: translateY(30px); */
             /* transition: opacity 0.8s ease-out, transform 0.8s ease-out; */
             /* will-change: transform, opacity; */
         }
          .section:first-of-type { /* Hero section doesn't need AOS initial hidden state */
              /* opacity: 1; */
              /* transform: none; */
              /* transition: none; */
          }
         .section.is-visible { /* This class was for custom observer, AOS handles its own */
              /* opacity: 1; */
              /* transform: translateY(0); */
         }

         .section:last-of-type {
              border-bottom: none;
              margin-bottom: 0;
         }

         /* --- Header/Navigation --- */
         .header {
             background-color: var(--surface-color);
             padding: 10px 0;
             text-align: center;
             box-shadow: var(--shadow-medium);
             position: static;
             width: 100%;
             top: 0;
             left: 0;
             z-index: 1000; /* Ensure header is above gem particles if they are on body */
         }

         .header .container {
              display: flex;
              justify-content: space-between;
              align-items: center;
              flex-wrap: wrap;
              padding: 0 20px;
         }

         .header img {
             max-width: 160px;
             height: auto;
             display: block;
             margin: 0;
             transition: transform 0.3s ease;
         }
          .header img:hover {
              transform: scale(1.05);
          }

         .nav {
             margin-top: 0;
             display: flex;
             align-items: center;
         }
         .nav ul { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; justify-content: center; align-items: center; }
         .nav li { margin-left: 30px; }
         .nav a {
             color: var(--text-color-secondary);
             font-family: 'Lato', sans-serif; font-weight: 600; font-size: 1.1em;
             padding: 5px 0; position: relative; transition: color 0.3s ease, transform 0.2s ease;
             outline: none;
         }
         .nav a:focus { color: var(--text-color-dark); outline: 2px solid var(--primary-color); outline-offset: 3px; border-radius: 2px; }
         .nav a::after { content: ''; position: absolute; left: 0; bottom: 0; width: 0; height: 2px; background: var(--gradient-primary); transition: width 0.4s ease-in-out; }
         .nav a:hover, .nav a.active { color: var(--text-color-dark); transform: translateY(-2px);}
         .nav a:hover::after, .nav a.active::after { width: 100%; }

         .cart-icon-container {
             margin-left: 30px; position: relative; cursor: pointer;
             color: var(--text-color-secondary); font-size: 1.5em;
             transition: color 0.3s ease, transform 0.3s ease;
             outline: none; padding: 5px; border-radius: 4px;
         }
         .cart-icon-container:hover { color: var(--primary-color); transform: scale(1.1); }
         .cart-icon-container:focus { color: var(--primary-color); outline: 2px solid var(--primary-color); outline-offset: 2px; }

         .cart-count {
             position: absolute; top: -8px; right: -8px; background-color: #e74c3c;
             color: white; font-size: 0.7em; font-weight: 700; border-radius: 50%;
             padding: 2px 6px; line-height: 1; min-width: 10px; text-align: center; display: none;
         }

        /* --- Hero Section (Styles from old, content from new) --- */
         .hero {
             position: relative;
             height: 600px;
             background: linear-gradient(rgba(34, 40, 49, 0.9), rgba(34, 40, 49, 0.9)), url('YOUR_HERO_IMAGE_URL.jpg') no-repeat center center/cover;
             display: flex;
             align-items: center;
             justify-content: center;
             color: white;
             overflow: hidden;
             background-attachment: fixed;
             padding: var(--section-padding-vertical) 0;
         }
         .hero-background-animation {
             position: absolute; top: 0; left: 0; width: 100%; height: 100%;
             overflow: hidden; z-index: 0; perspective: 1000px; pointer-events: none;
         }
         .hero-background-animation::before {
             content: ''; position: absolute; top: 50%; left: 50%;
             width: 200px; height: 250px; transform-style: preserve-3d;
             transform: translate(-50%, -50%) rotateX(-60deg) rotateY(0deg) rotateZ(30deg);
             background: radial-gradient(circle at center,
                         rgba(255, 165, 0, 0.6) 0%,
                         rgba(184, 115, 51, 0.5) 40%,
                         rgba(82, 97, 115, 0.4) 80%,
                         transparent 100%);
             border: 1px solid rgba(var(--color-accent-copper), 0.8);
             box-shadow: 0 0 15px rgba(184, 115, 51, 0.7), 0 0 30px rgba(184, 115, 51, 0.5), 0 0 45px rgba(184, 115, 51, 0.3);
             opacity: 1;
             animation: rotateGem 15s infinite linear;
         }
         @keyframes rotateGem {
             0% { transform: translate(-50%, -50%) rotateX(-60deg) rotateY(0deg) rotateZ(30deg); }
             100% { transform: translate(-50%, -50%) rotateX(-60deg) rotateY(360deg) rotateZ(30deg); }
         }
         .hero .hero-content { position: relative; z-index: 2; } /* Ensured hero content is on top */
         .hero::before { /* Old overlay, ensure it works with new z-indexing or remove if redundant with background gradient */
             content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
             z-index: 1; /* Between animation (0) and content (2) */
         }
         .hero .container { position: relative; z-index: 2; text-align: center; }
         .hero .container h1 { /* Adjusted to use text-color-dark for better contrast on overlay */
             color: var(--text-color-dark);
             font-size: 4em; margin-bottom: 20px; font-weight: 700;
             text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
         }
         .hero .container p { /* Adjusted for new hero content */
             color: var(--text-color-medium);
             font-size: 1.3em; margin-bottom: 30px;
             text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.4);
         }
         .hero-cta-button {
             display: inline-block; background: var(--gradient-primary);
             color: var(--button-primary-text); /* Adjusted to use CSS var for text color */
             padding: 15px 30px; font-size: 1.2em; font-weight: 700;
             border-radius: 30px;
             transition: background 0.4s ease, transform 0.3s ease-out, box-shadow 0.4s ease, color 0.4s ease;
             box-shadow: var(--shadow-medium); border: none; cursor: pointer;
             overflow: hidden; position: relative; z-index: 1; outline: none;
         }
         .hero-cta-button::before {
              content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
              background: var(--gradient-highlight); transition: left 0.4s ease-out; z-index: -1;
          }
         .hero-cta-button:hover::before { left: 0; }
         .hero-cta-button:hover {
              background: transparent; color: var(--text-color-dark);
              transform: translateY(-4px); box-shadow: var(--shadow-deep);
         }
         .hero-cta-button:focus { outline: 2px solid var(--primary-color); outline-offset: 3px; border-radius: 30px; }

        /* --- About Us & Contact Section --- */
         .about-contact .container {
             text-align: left; display: flex; flex-wrap: wrap;
             align-items: flex-start; gap: 40px; justify-content: center;
         }
         .about-content, .contact-info { flex: 1; min-width: 300px; }
         .about-contact h2 { text-align: center; width: 100%; margin-bottom: 50px; }
         .about-content h3, .contact-info h3 {
             text-align: left; margin-bottom: 20px; font-size: 1.7em; color: var(--text-color-dark);
         }
         .about-contact p { font-size: 1.05em; margin-bottom: 1.2em; color: var(--text-color-medium); }
         .about-contact address {
              font-style: normal; margin-top: 15px; font-size: 1.05em;
              line-height: 1.7; color: var(--text-color-medium); margin-bottom: 20px;
          }
         .contact-info p { margin-bottom: 12px; color: var(--text-color-medium); font-size: 1.05em; }
         .contact-info p i {
              margin-right: 12px; color: var(--secondary-color);
              font-size: 1.2em; width: 20px; text-align: center;
          }

        /* --- Products/Categories Section --- */
        /* .product-info styles from old CSS, ensure they work with new card structure */
         .product-info {
             padding: 15px; display: flex; flex-direction: column;
             flex-grow: 1; position: relative; z-index: 2; text-align: left;
         }
         .product-info h3 {
             margin-top: 0; margin-bottom: 6px; font-size: 1.4em;
             color: var(--primary-color); font-weight: 700; font-family: 'Lora', serif;
         }
         .product-info p.product-description {
             font-size: 0.9em; color: var(--text-color-secondary);
             margin-bottom: 12px; flex-grow: 1; line-height: 1.5;
         }
         .product-price {
             font-size: 1.1em; font-weight: 700; color: var(--secondary-color);
             margin-bottom: 15px; min-height: 1.5em;
         }
         .add-to-cart-button {
             display: block; width: 100%; padding: 10px; margin-bottom: 10px;
             background-color: var(--button-primary-bg); color: var(--button-primary-text);
             border: none; border-radius: 5px; font-size: 1em; font-weight: 600;
             cursor: pointer; transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
             text-align: center; outline: none;
         }
         .add-to-cart-button:hover {
             background-color: var(--button-primary-hover-bg); color: var(--button-primary-hover-text);
             transform: translateY(-2px);
         }
         .add-to-cart-button:focus { outline: 2px solid var(--secondary-color); outline-offset: 2px; border-radius: 5px; }

         .whatsapp-button {
             display: block; width: calc(100% - 0px); margin: 0; padding: 12px;
             background-color: var(--whatsapp-green); color: white; text-decoration: none;
             border-radius: 0 0 8px 8px; /* Adjusted for card */
             font-size: 1em; font-weight: 600; letter-spacing: 0.5px; box-shadow: none;
             text-align: center; transition: background-color 0.3s ease, transform 0.2s ease; outline: none;
         }
         .whatsapp-button i { margin-right: 8px; }
         .whatsapp-button:hover { background-color: var(--whatsapp-green-hover); transform: translateY(-2px); box-shadow: none; }
         .whatsapp-button:focus { outline: 2px solid var(--secondary-color); outline-offset: 2px; border-radius: 0 0 8px 8px; }

         .search-container { margin-bottom: 30px; text-align: center; }
         .search-container input {
             width: calc(100% - 40px); max-width: 500px; padding: 12px 20px;
             border: 1px solid var(--border-color); border-radius: 25px; font-size: 1em;
             box-sizing: border-box; box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.3);
             transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
             color: var(--text-color-medium); background-color: var(--surface-color); outline: none;
         }
         .search-container input::placeholder { color: var(--text-color-secondary); }
         .search-container input:focus {
             border-color: var(--primary-color);
             box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.3), 0 0 8px rgba(184, 115, 51, 0.6);
             outline: none;
         }
         .category-products-container { display: none; text-align: left; margin-top: 30px; }
         .category-products-container h3 {
             text-align: center; margin-bottom: 30px; font-size: 2em; color: var(--primary-color);
         }
         .back-to-categories, .back-to-cart, .back-to-billing {
             display: inline-block; margin-bottom: 30px; font-size: 1.1em;
             color: var(--text-color-secondary); transition: color 0.3s ease; cursor: pointer;
             outline: none; border-radius: 4px; padding: 5px;
         }
         .back-to-categories i, .back-to-cart i, .back-to-billing i { margin-right: 8px; }
         .back-to-categories:hover, .back-to-cart:hover, .back-to-billing:hover { color: var(--primary-color); text-decoration: underline; }
         .back-to-categories:focus, .back-to-cart:focus, .back-to-billing:focus { color: var(--primary-color); outline: 2px solid var(--primary-color); outline-offset: 2px; }

        /* --- Image Modal/Lightbox --- */
         #imageModal {
             display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
             background-color: rgba(0, 0, 0, 0.95); z-index: 9999;
             justify-content: center; align-items: center;
         }
         #imageModal span {
             position: absolute; top: 20px; right: 30px; font-size: 40px; color: white;
             cursor: pointer; transition: color 0.3s ease;
             outline: none; padding: 5px; border-radius: 4px;
         }
         #imageModal span:hover { color: var(--secondary-color); }
         #imageModal span:focus { color: var(--secondary-color); outline: 2px solid var(--secondary-color); outline-offset: 2px; }
         #modalImage {
             max-width: 90%; max-height: 90%; object-fit: contain;
             box-shadow: 0 0 40px rgba(0, 0, 0, 0.9);
             border: 1px solid var(--primary-color); border-radius: 8px;
         }

        /* --- Modal Base Styling (for Cart and Billing) --- */
         .modal {
             display: none; position: fixed; z-index: 10000;
             left: 0; top: 0; width: 100%; height: 100%; overflow: auto;
             background-color: rgba(0, 0, 0, 0.8);
             justify-content: center; align-items: center;
         }
         .modal-content {
             background-color: var(--surface-color); margin: auto; padding: 30px;
             border-radius: 10px; width: 90%; max-width: 600px;
             box-shadow: var(--shadow-deep); position: relative; max-height: 80vh;
             overflow-y: auto; text-align: left; border: 1px solid var(--border-color);
             color: var(--text-color-medium);
         }
         .modal-content h2 {
             text-align: center; margin-top: 0; margin-bottom: 20px;
             color: var(--primary-color); padding-bottom: 10px;
         }
         .modal-content h2::after { height: 2px; width: 50px; }
         .modal-content .close {
             position: absolute; top: 15px; right: 25px; color: var(--text-color-secondary);
             font-size: 35px; font-weight: bold; cursor: pointer; transition: color 0.3s ease;
             outline: none; padding: 5px; border-radius: 4px;
         }
         .modal-content .close:hover, .modal-content .close:focus { color: var(--primary-color); }
         #cartItemsList, #billingItemsList { list-style: none; padding: 0; margin: 0 0 20px 0; }
         #cartItemsList li, #billingItemsList li {
             border-bottom: 1px solid var(--border-color); padding: 15px 0;
             display: flex; justify-content: space-between; align-items: center;
             font-size: 1.1em; color: var(--text-color-medium);
         }
         #cartItemsList li:last-child, #billingItemsList li:last-child { border-bottom: none; }
         .item-details .item-name { font-weight: 600; color: var(--text-color-dark); }
         .item-details .item-quantity { font-size: 0.9em; color: var(--text-color-secondary); }
         .item-details .item-price { color: var(--primary-color); }
         .remove-item {
             background-color: #e74c3c; color: white; border: none; border-radius: 4px;
             padding: 5px 10px; cursor: pointer; font-size: 0.9em;
             transition: background-color 0.3s ease, transform 0.2s ease; outline: none;
         }
         .remove-item:hover { background-color: #c0392b; transform: scale(1.05); }
         .remove-item:focus { outline: 2px solid var(--secondary-color); outline-offset: 2px; border-radius: 4px; }
         .cart-total, .billing-summary {
             margin-top: 20px; text-align: right; font-size: 1.3em; font-weight: 700;
             color: var(--primary-color); padding-top: 15px; border-top: 1px solid var(--border-color);
         }
         .billing-summary p { margin: 5px 0; font-size: 1em; font-weight: 400; color: var(--text-color-medium); }
         .billing-summary p strong { color: var(--text-color-dark); }
         .billing-summary .final-total { font-size: 1.3em; font-weight: 700; color: var(--primary-color); margin-top: 10px; }
         .checkout-button, .place-order-button {
             display: block; width: 100%; padding: 12px; margin-top: 20px;
             background-color: var(--button-primary-bg); color: var(--button-primary-text);
             border: none; border-radius: 5px; font-size: 1.1em; font-weight: 700;
             text-align: center; cursor: pointer;
             transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease; outline: none;
         }
         .checkout-button:hover, .place-order-button:hover {
             background-color: var(--button-primary-hover-bg); color: var(--button-primary-hover-text);
             transform: translateY(-2px);
         }
         .checkout-button:focus, .place-order-button:focus { outline: 2px solid var(--secondary-color); outline-offset: 2px; border-radius: 5px; }
         #emptyCartMessage { text-align: center; color: var(--text-color-secondary); margin-top: 20px; font-size: 1.1em; }

        /* --- Billing Modal Specific Styles --- */
         #billingModal .modal-content { max-width: 700px; }
         #billingModal h2 { margin-bottom: 30px; }
         #billingModal .inquiry-details { margin-top: 20px; display: grid; gap: 15px; }
         #billingModal label { display: block; margin-bottom: 5px; font-weight: 600; color: var(--text-color-dark); font-size: 0.95em; }
         #billingModal input[type="text"], #billingModal input[type="email"], #billingModal input[type="tel"], #billingModal textarea {
             width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 5px;
             box-sizing: border-box; background-color: var(--background-color); color: var(--text-color-medium);
             font-size: 1em; transition: border-color 0.3s ease, box-shadow 0.3s ease; outline: none;
         }
         #billingModal input[type="text"]::placeholder, #billingModal input[type="email"]::placeholder, #billingModal input[type="tel"]::placeholder, #billingModal textarea::placeholder { color: var(--text-color-secondary); }
         #billingModal input[type="text"]:focus, #billingModal input[type="email"]:focus, #billingModal input[type="tel"]:focus, #billingModal textarea:focus {
             border-color: var(--primary-color); box-shadow: 0 0 5px rgba(184, 115, 51, 0.5);
         }
         #billingModal textarea { resize: vertical; min-height: 80px; }
         .coupon-section { display: flex; gap: 10px; margin-bottom: 20px; align-items: center; }
         .coupon-section input[type="text"] { flex-grow: 1; width: auto; padding: 10px; border-radius: 5px 0 0 5px; }
         .coupon-section button {
             padding: 10px 15px; background-color: var(--secondary-color); color: var(--background-color);
             border: none; border-radius: 0 5px 5px 0; cursor: pointer; font-size: 0.95em; font-weight: 600;
             transition: background-color 0.3s ease, transform 0.2s ease; outline: none;
         }
         .coupon-section button:hover { background-color: var(--primary-color); color: var(--background-color); }
         .coupon-section button:focus { outline: 2px solid var(--primary-color); outline-offset: 2px; border-radius: 0 5px 5px 0; }
         #couponMessage { font-size: 0.9em; margin-top: -10px; margin-bottom: 15px; text-align: center; min-height: 1.2em; }
         #couponMessage.success { color: var(--whatsapp-green); }
         #couponMessage.error { color: var(--color-alert); }
         .payment-info { margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center; }
         .payment-info h3 { font-size: 1.6em; color: var(--text-color-dark); margin-bottom: 15px; text-align: center; }
         .payment-info p { font-size: 1em; color: var(--text-color-medium); margin-bottom: 10px; }
         .payment-info strong { color: var(--primary-color); }
         .payment-info img {
             max-width: 150px; height: auto; margin: 15px auto; display: block;
             border: 1px solid var(--border-color); padding: 10px; background-color: var(--color-white);
             border-radius: 5px;
         }
         .payment-instructions { font-size: 0.9em; color: var(--text-color-secondary); margin-top: 20px; }

        /* --- Footer --- */
         .footer {
             background-color: var(--surface-color); color: var(--footer-text-color);
             text-align: center; padding: 40px 0; margin-top: 60px;
             box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6); font-size: 0.9em;
             border-top: 1px solid var(--border-color);
         }
         .social-links { margin-top: 0; margin-bottom: 20px; }
         .social-links a {
             display: inline-block; margin: 0 15px; color: var(--primary-color);
             font-size: 32px; transition: color 0.3s ease, transform 0.3s ease; outline: none;
         }
         .social-links a:focus { color: var(--secondary-color); outline: 2px solid var(--secondary-color); outline-offset: 3px; border-radius: 50%; }
         .social-links a:hover { color: var(--secondary-color); transform: scale(1.2); }

        /* --- Scroll to Top Button --- */
         .scroll-to-top {
             position: fixed; bottom: 30px; right: 30px; background-color: var(--primary-color);
             color: var(--background-color); width: 50px; height: 50px; border-radius: 50%;
             text-align: center; line-height: 50px; font-size: 1.5rem;
             box-shadow: var(--shadow-medium); z-index: 900; opacity: 0; visibility: hidden;
             transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease, transform 0.3s ease;
             cursor: pointer; outline: none;
         }
         .scroll-to-top:focus { background-color: var(--secondary-color); outline: 2px solid var(--secondary-color); outline-offset: 3px; border-radius: 50%; }
         .scroll-to-top.visible { opacity: 1; visibility: visible; }
         .scroll-to-top:hover { background-color: var(--secondary-color); transform: scale(1.1); }

        /* Responsive Enhancements from new CSS + existing responsive CSS */
        @media (max-width: 1024px) {
            .section h2 { font-size: 2.4em; }
            h2::after { width: 60px; }
            .hero { height: 500px; }
            .hero .container h1 { font-size: 3em; }
            .hero .container p { font-size: 1.2em; }
            .category-grid, .category-products-grid { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 25px; } /* Adjusted from 300px */
            .product img { height: 250px; }
            .product-info { padding: 12px; }
            .product-info h3 { font-size: 1.4em; margin-bottom: 6px; }
            .product-info p.product-description { font-size: 0.9em; margin-bottom: 12px; }
            .product-price { font-size: 1.05em; margin-bottom: 12px; }
            .add-to-cart-button, .whatsapp-button { font-size: 0.95em; padding: 8px; }
            .whatsapp-button { margin-top: 8px; }
            .section { padding: 80px 0; }
            .category-products-container h3 { font-size: 1.8em; }
            .modal-content { padding: 20px; }
            #cartItemsList li, #billingItemsList li { font-size: 1em; padding: 10px 0; }
            .remove-item { padding: 3px 8px; font-size: 0.85em; }
            .cart-total { font-size: 1.2em; }
            .social-links a { font-size: 28px; margin: 0 12px; }
            .scroll-to-top { width: 45px; height: 45px; line-height: 45px; font-size: 1.4rem; }
            #billingModal .inquiry-details { gap: 12px; }
            #billingModal input[type="text"], #billingModal input[type="email"], #billingModal input[type="tel"], #billingModal textarea { padding: 10px; }
            .coupon-section input[type="text"], .coupon-section button { padding: 8px; }
             /* Hero Background Animation Responsive */
             .hero-background-animation::before { width: 150px; height: 200px; animation-duration: 12s; }
        }

        @media (max-width: 768px) {
            .header .container { flex-direction: column; }
            .header img { margin-bottom: 15px; }
            .nav { flex-direction: column; align-items: center; width: 100%; }
            .nav ul { flex-direction: column; align-items: center; width: 100%; margin-bottom: 15px; }
            .nav li { margin: 10px 0; width: 100%; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 10px; }
            .nav li:last-child { border-bottom: none; padding-bottom: 0; }
            .nav a { display: block; text-align: center; color: var(--text-color-dark); }
            .nav a::after { content: none; }
            .nav a:hover, .nav a.active { color: var(--primary-color); transform: none; }
            .cart-icon-container { margin-left: 0; margin-top: 10px; }
            .header { padding: 15px 0; }

            .section { padding: 60px 0; }
            .section h2 { font-size: 2em; }
            h2::after { width: 50px; }
            .hero { height: 400px; }
            .hero .container h1 { font-size: 2.5em; }
            .hero .container p { font-size: 1.1em; }
            .hero-cta-button { padding: 12px 25px; font-size: 1.1em; }
            .about-contact .container { flex-direction: column; gap: 30px; }
            .about-contact h2, .about-content h3, .contact-info h3 { text-align: center; }
            .about-content h3::after, .contact-info h3::after {
                 content: ''; position: absolute; bottom: 0; left: 50%;
                 transform: translateX(-50%); height: 2px; width: 40px;
                 background: var(--primary-color); border-radius: 1px;
            }
            .about-contact p, .about-contact address, .contact-info p { font-size: 1em; }
            .category-grid, .category-products-grid {
                grid-template-columns: 1fr; /* Stack to 1 column */
                gap: 30px; /* Adjusted from 20px */
            }
            .product:hover {
                transform: translateY(-5px); /* Simpler hover for mobile */
                 /* Keep other hover effects if desired, or simplify further */
                box-shadow: 0 15px 30px rgba(0,0,0,0.7);
            }
            .product img { height: 180px; }
            .product-info { padding: 10px; }
            .product-info h3 { font-size: 1.3em; margin-bottom: 5px; }
            .product-info p.product-description { font-size: 0.85em; margin-bottom: 10px; }
            .product-price { font-size: 1em; margin-bottom: 10px; }
            .add-to-cart-button, .whatsapp-button { font-size: 0.95em; padding: 8px; }
            .whatsapp-button { margin-top: 8px; }
            .social-links a { font-size: 26px; margin: 0 10px; }
            .footer { padding: 30px 0; }
            .category-products-container h3 { font-size: 1.8em; }
            .modal-content { padding: 20px; }
            #cartItemsList li, #billingItemsList li { font-size: 1em; padding: 10px 0; }
            .remove-item { padding: 3px 8px; font-size: 0.85em; }
            .cart-total { font-size: 1.2em; }
            .scroll-to-top { width: 45px; height: 45px; line-height: 45px; font-size: 1.4rem; bottom: 15px; right: 15px; }
            #billingModal .inquiry-details { gap: 12px; }
            #billingModal input[type="text"], #billingModal input[type="email"], #billingModal input[type="tel"], #billingModal textarea { padding: 10px; }
            .coupon-section input[type="text"], .coupon-section button { padding: 8px; }
            /* Hero Background Animation Responsive */
            .hero-background-animation::before { width: 120px; height: 160px; animation-duration: 10s; }
        }

        @media (max-width: 480px) {
            .section { padding: 40px 0; }
            .section h2 { font-size: 1.8em; }
            h2::after { width: 40px; }
            .hero { height: 350px; }
            .hero .container h1 { font-size: 2em; }
            .hero .container p { font-size: 0.95em; }
            .hero-cta-button { padding: 10px 20px; font-size: 1em; }
            .about-contact .container { gap: 20px; }
            .about-contact h3::after, .contact-info h3::after { width: 30px; }
            .about-contact p, .about-contact address, .contact-info p { font-size: 0.95em; }
            .category-grid, .category-products-grid { grid-template-columns: 1fr; gap: 15px; } /* Already 1fr, ensure consistency */
            .product img { height: 160px; }
            .product-info { padding: 8px; }
            .product-info h3 { font-size: 1.2em; margin-bottom: 4px; }
            .product-info p.product-description { font-size: 0.8em; margin-bottom: 8px; }
            .product-price { font-size: 0.95em; margin-bottom: 8px; }
            .add-to-cart-button, .whatsapp-button { font-size: 0.9em; padding: 6px; }
            .whatsapp-button { margin-top: 6px; }
            .social-links a { font-size: 24px; margin: 0 6px; }
            .footer { padding: 25px 0; }
            .category-products-container h3 { font-size: 1.4em; }
            .modal-content { padding: 15px; }
            #cartItemsList li, #billingItemsList li { font-size: 0.95em; padding: 8px 0; }
            .remove-item { padding: 2px 6px; font-size: 0.8em; }
            .cart-total { font-size: 1.1em; }
            #billingModal .inquiry-details { gap: 8px; }
            #billingModal input[type="text"], #billingModal input[type="email"], #billingModal input[type="tel"], #billingModal textarea { padding: 6px; }
            .coupon-section input[type="text"], .coupon-section button { padding: 6px; }
            .payment-info h3 { font-size: 1.3em; }
            .payment-info p { font-size: 0.9em; }
            .payment-info img { max-width: 100px; }
            .payment-instructions { font-size: 0.8em; }
            /* Hero Background Animation Responsive */
            .hero-background-animation::before { width: 90px; height: 120px; animation-duration: 8s; }
        }

        /* Accessibility: Highlighting interactive elements on focus */
        a:focus, button:focus, input:focus, textarea:focus, select:focus, [tabindex]:focus {
            /* outline: 2px dashed var(--primary-color); */ /* General outline, might be too much with specific ones */
            /* outline-offset: 3px; */
            /* border-radius: 3px; */
        }
        /* Keep specific focus styles from old CSS, ensure they are not overridden by a generic one if the above is enabled */
        .nav a:focus, .cart-icon-container:focus, .hero-cta-button:focus,
        .product img:focus, .add-to-cart-button:focus, .whatsapp-button:focus,
        .search-container input:focus, .back-to-categories:focus, .back-to-cart:focus, .back-to-billing:focus,
        #imageModal span:focus, .modal-content .close:focus, .remove-item:focus,
        .checkout-button:focus, .place-order-button:focus, .coupon-section button:focus,
        .social-links a:focus, .scroll-to-top:focus,
        #billingModal input[type="text"]:focus, #billingModal input[type="email"]:focus,
        #billingModal input[type="tel"]:focus, #billingModal textarea:focus {
            outline: none; /* Remove default only if custom is fully handling it */
            /* Custom styles are already defined for these elements in the CSS above */
        }
    </style>
</head>
<body>
    <div class="cart-notification" id="cartNotification">
        Item added to inquiry list! <i class="fas fa-check"></i>
    </div>

    <header class="header">
        <div class="container">
            <img src="GridArt_20250516_180656516.png" alt="J.K Gems Logo">
            <nav class="nav">
                <ul>
                    <li><a href="#about">About J.K Gems</a></li>
                    <li><a href="#products">Categories</a></li>
                </ul>
                <div class="cart-icon-container" id="cartIcon" role="button" tabindex="0" aria-label="Inquiry List">
                     <i class="fas fa-shopping-cart"></i>
                     <span class="cart-count" id="cartCount">0</span>
                 </div>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-background-animation"></div>
        <div class="hero-content">
            <div class="container">
                <h1 data-aos="fade-up">Exquisite Gemstones & Spiritual Treasures</h1>
                <p data-aos="fade-up" data-aos-delay="200">Discover perfection in every gem</p>
                <a href="#products" class="hero-cta-button" data-aos="fade-up" data-aos-delay="400">Explore Collection</a>
            </div>
        </div>
    </section>

    <section id="about" class="section about-contact" data-aos="fade-up">
        <div class="container">
            <h2>About J.K Gems</h2>
            <div class="about-content">
                <h3>Our Story</h3>
                <p>J.K Gems is a well-known and trusted firm, serving customers with exquisite gemstones and spiritual products since 1965. Founded on principles of quality, authenticity, and integrity, we have built a reputation as a cornerstone in Junagadh's Soni Bajar.</p>
                <p>For generations, we have been dedicated to sourcing the finest gemstones and authentic spiritual items, offering expert guidance and personalized service to our valued customers. Our legacy is built on trust, and our commitment to providing genuine products remains unwavering.</p>
            </div>
            <div class="contact-info">
                 <h3>Contact & Location</h3>
                 <address>
                    <p><i class="fas fa-map-marker-alt"></i> Jk gems<br>Balakrishna market, Haveli gali<br>Soni bajar, Junagadh<br>Gujarat 362001</p>
                 </address>
                 <p><i class="fas fa-phone"></i> +91 9723197899</p>
                 <p><i class="far fa-clock"></i> Business Hours: 10 am to 3 pm and 4 pm to 9 pm</p>
                 <p>You can also inquire directly via WhatsApp using the buttons on our product listings below.</p>
            </div>
        </div>
    </section>

    <section id="products" class="section products" data-aos="fade-up">
        <div class="container">
             <h2 id="products-heading">Our Categories</h2>
             <div class="search-container">
                 <input type="text" id="searchInput" onkeyup="searchItems()" placeholder="Search Categories or Products...">
             </div>

            <div class="category-grid" id="categoryGrid">
                <div class="product category-card" data-category-target="gemstones" role="button" tabindex="0" data-aos="zoom-in-up">
                    <img src="IMG-20250516-WA0015.jpg" alt="Gem stones Category">
                    <div class="product-info">
                        <h3>Gemstones</h3>
                        <p class="product-description">Explore our collection of authentic, high-quality gemstones.</p>
                    </div>
                </div>
                <div class="product category-card" data-category-target="rudraksh" role="button" tabindex="0" data-aos="zoom-in-up" data-aos-delay="100">
                    <img src="IMG-20250516-WA0003.jpg" alt="Rudraksh Category">
                     <div class="product-info">
                        <h3>Rudraksh</h3>
                        <p class="product-description">Discover genuine Rudraksha beads and items for spiritual well-being.</p>
                     </div>
                </div>
                <div class="product category-card" data-category-target="yantra" role="button" tabindex="0" data-aos="zoom-in-up" data-aos-delay="200">
                    <img src="IMG-20250516-WA0001.jpg" alt="Yantra Category">
                     <div class="product-info">
                        <h3>Yantra & Spiritual Items</h3>
                        <p class="product-description">Sacred geometric diagrams, Sphatik items, and other spiritual treasures.</p>
                     </div>
                </div>
            </div>

            <div id="gemstones-products-container" class="category-products-container">
                 <a href="#products" class="back-to-categories" role="button" tabindex="0"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                 <h3>Gemstones Collection</h3>
                 <div class="category-products-grid">
                     <div class="product" data-aos="fade-up">
                         <img src="Screenshot_20250523_231439_Samsung Internet.jpg" alt="Yellow Sapphire" tabindex="0">
                         <div class="product-info">
                             <h3>Yellow Sapphire</h3>
                             <p class="product-description">Genuine Yellow Sapphire, known for prosperity and good fortune.</p>
                             <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="yellow_sapphire"
                                     data-product-name="Yellow Sapphire"> Add to Inquiry List
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Yellow%20Sapphire.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Yellow Sapphire on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     <div class="product" data-aos="fade-up" data-aos-delay="100">
                         <img src="IMG-20250516-WA0011.jpg" alt="Gemstone Rings" tabindex="0">
                         <div class="product-info">
                             <h3>Gemstone Rings</h3>
                             <p class="product-description">Beautiful rings featuring authentic gemstones for style and astrological benefits.</p>
                             <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="gemstone_rings_main"
                                     data-product-name="Gemstone Rings"> Add to Inquiry List
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Gemstone%20Rings.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Gemstone Rings on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                </div>
            </div>

            <div id="rudraksh-products-container" class="category-products-container">
                <a href="#products" class="back-to-categories" role="button" tabindex="0"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                <h3>Rudraksh Items</h3>
                <div class="category-products-grid">
                     <div class="product" data-aos="fade-up">
                         <img src="IMG-20250516-WA0003.jpg" alt="Rudraksh Mala" tabindex="0">
                         <div class="product-info">
                             <h3>Rudraksh Mala</h3>
                             <p class="product-description">Genuine Rudraksha beads for spiritual connection and well-being.</p>
                             <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="rudraksh_mala_main"
                                     data-product-name="Rudraksh Mala"> Add to Inquiry List
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Rudraksh%20Mala.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Rudraksh Mala on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     <div class="product" data-aos="fade-up" data-aos-delay="100">
                         <img src="IMG-20250516-WA0016.jpg" alt="Rudraksh Bracelet" tabindex="0">
                         <div class="product-info">
                             <h3>Rudraksh Bracelet</h3>
                             <p class="product-description">Wear the spiritual energy with authentic Rudraksh bracelets.</p>
                             <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="rudraksh_bracelet_main"
                                     data-product-name="Rudraksh Bracelet"> Add to Inquiry List
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Rudraksh%20Bracelet.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Rudraksh Bracelet on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                </div>
            </div>

             <div id="yantra-products-container" class="category-products-container">
                <a href="#products" class="back-to-categories" role="button" tabindex="0"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                <h3>Yantra & Spiritual Collection</h3>
                <div class="category-products-grid">
                     <div class="product" data-aos="fade-up">
                         <img src="IMG-20250516-WA0001.jpg" alt="Yantra" tabindex="0">
                         <div class="product-info">
                             <h3>Yantra</h3>
                             <p class="product-description">Sacred geometric diagrams for meditation and energy focusing.</p>
                             <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="yantra_main"
                                     data-product-name="Yantra"> Add to Inquiry List
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Yantra.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Yantra on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                      <div class="product" data-aos="fade-up" data-aos-delay="100">
                         <img src="61Fg6DsA4iL._AC_UF894,1000_QL80_.jpg" alt="Sphatik Shree Yantra" tabindex="0">
                         <div class="product-info">
                             <h3>Sphatik Shree Yantra</h3>
                             <p class="product-description">Clear quartz Shree Yantra for purity, prosperity, and positive energy.</p>
                              <p class="product-price">Inquire for Pricing</p>
                             <button class="add-to-cart-button"
                                     data-product-id="sphatik_yantra_main"
                                     data-product-name="Sphatik Shree Yantra"> Add to Inquiry List
                             </button>
                             <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Sphatik%20Shree%20Yantra.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Sphatik Shree Yantra on WhatsApp"> <i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                </div>
            </div>
        </div>
    </section>

    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeCartModal" role="button" tabindex="0" aria-label="Close Inquiry List">×</span>
            <h2>Your Inquiry List</h2>
            <div id="emptyCartMessage">Your inquiry list is empty.</div>
            <ul id="cartItemsList"></ul>
            <div class="cart-total" id="cartTotal">Total: Inquire for Pricing</div>
            <button class="checkout-button" id="checkoutButton">Proceed to WhatsApp Inquiry</button>
        </div>
    </div>

    <div id="billingModal" class="modal">
         <div class="modal-content">
              <span class="close" id="closeBillingModal" role="button" tabindex="0" aria-label="Close Inquiry Form">×</span>
              <h2>WhatsApp Inquiry Form</h2>
              <a href="#" class="back-to-cart" id="backToCartButton" role="button" tabindex="0"><i class="fas fa-arrow-left"></i> Back to Inquiry List</a>
              <h3>Items in Your Inquiry</h3>
              <ul id="billingItemsList"></ul>
              <div class="coupon-section">
                   <input type="text" id="couponCodeInput" placeholder="Enter coupon code (Inquire)">
                   <button id="applyCouponButton">Inquire for Coupon</button>
              </div>
               <div id="couponMessage" aria-live="polite"></div>
               <div class="billing-summary">
                   <p>Subtotal: <span id="subtotal">Inquire for Pricing</span></p>
                    <p>Discount: <span id="discount">Inquire for Pricing</span></p>
                   <p class="final-total">Total: <span id="finalTotal">Inquire for Pricing</span></p>
              </div>
              <h3>Your Details (for WhatsApp inquiry)</h3>
               <div class="inquiry-details">
                   <div>
                        <label for="customerName">Full Name:</label>
                        <input type="text" id="customerName" placeholder="Your Full Name">
                   </div>
                   <div>
                        <label for="customerEmail">Email (Optional):</label>
                        <input type="email" id="customerEmail" placeholder="Your Email">
                   </div>
                   <div>
                        <label for="customerPhone">Phone Number (for WhatsApp):</label>
                        <input type="tel" id="customerPhone" value="+919723197899" readonly>
                   </div>
                   <div>
                        <label for="customerAddress">Your Message/Notes (Optional):</label>
                        <textarea id="customerAddress" placeholder="Any specific questions or additional notes."></textarea>
                   </div>
                    <div class="payment-info">
                        <h3>WhatsApp Inquiry Process</h3>
                        <p>Clicking "Send WhatsApp Inquiry" will open WhatsApp with a pre-filled message including your selected items and contact details (if provided).</p>
                         <p class="payment-instructions">We will **contact you directly via WhatsApp or phone** to discuss your selected items, provide detailed pricing, and guide you through the process.</p>
                    </div>
                   <button type="button" class="place-order-button" id="sendWhatsAppInquiry">Send WhatsApp Inquiry</button>
              </div>
         </div>
    </div>

    <footer class="footer" data-aos="fade-up">
        <div class="container">
            <div class="social-links">
                <a href="https://www.instagram.com/j_k_gems" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://www.facebook.com/YOUR_FACEBOOK_PAGE_ID" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="https://youtube.com/@jkgems-td3et?si=Ne4JWKic5aeZfBTa" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
         </div>
    </footer>

    <div id="imageModal">
        <span class="close" role="button" tabindex="0" aria-label="Close image modal">×</span>
        <img src="" id="modalImage" alt="Enlarged product image">
    </div>

     <a href="#" class="scroll-to-top" aria-label="Scroll to top"><i class="fas fa-arrow-up"></i></a>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // --- Category/Product View Switching ---
        const categoryGrid = document.getElementById('categoryGrid');
        const productContainers = document.querySelectorAll('.category-products-container');
        const productsHeading = document.getElementById('products-heading');
        const searchInput = document.getElementById('searchInput');

        function showCategoryGrid() {
            productsHeading.textContent = 'Our Categories';
            searchInput.placeholder = 'Search Categories...';
            searchInput.style.display = 'block';
            categoryGrid.style.display = 'grid';
            productContainers.forEach(container => container.style.display = 'none');
            searchItems = searchCategories;
            searchInput.onkeyup = searchItems;
            searchInput.value = '';
            searchItems();
            // document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function showProductContainer(categoryId) {
             const containerId = categoryId + '-products-container';
             const containerToShow = document.getElementById(containerId);
             if (!containerToShow) {
                 showCategoryGrid(); return;
             }
             const categoryName = categoryId.charAt(0).toUpperCase() + categoryId.slice(1);
             productsHeading.textContent = `${categoryName} Collection`;
             searchInput.placeholder = `Search ${categoryName} products...`;
             searchInput.style.display = 'block';
             categoryGrid.style.display = 'none';
             productContainers.forEach(container => container.style.display = 'none');
             containerToShow.style.display = 'block';
             searchItems = searchProductsInCategory;
             searchInput.onkeyup = searchItems;
             searchInput.value = '';
             searchItems();
            //  document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function searchCategories() {
             const filter = searchInput.value.toUpperCase();
             const categories = categoryGrid.querySelectorAll('.product.category-card');
             categories.forEach(category => {
                 const h3 = category.querySelector('h3');
                 const desc = category.querySelector('.product-description');
                 const textValue = (h3 ? h3.textContent || h3.innerText : '') + ' ' + (desc ? desc.textContent || desc.innerText : '');
                 category.style.display = textValue.toUpperCase().indexOf(filter) > -1 ? "" : "none";
             });
        }

        function searchProductsInCategory() {
            const filter = searchInput.value.toUpperCase();
            const visibleProductGrid = document.querySelector('.category-products-container[style*="display: block"] .category-products-grid');
            if (!visibleProductGrid) return;
            const products = visibleProductGrid.querySelectorAll('.product');
            products.forEach(product => {
                const h3 = product.querySelector('h3');
                const desc = product.querySelector('.product-description');
                const textValue = (h3 ? h3.textContent || h3.innerText : '') + ' ' +
                                  (desc ? desc.textContent || desc.innerText : '');
                product.style.display = textValue.toUpperCase().indexOf(filter) > -1 ? "" : "none";
            });
        }
        let searchItems = searchCategories;

        // --- Image Modal ---
        const imageModal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const closeImageModalBtn = imageModal.querySelector('.close');
        closeImageModalBtn.addEventListener('click', () => imageModal.style.display = 'none');
        closeImageModalBtn.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); imageModal.style.display = 'none'; }});
        imageModal.addEventListener('click', e => { if (e.target === imageModal) imageModal.style.display = 'none'; });

        // --- Cart & Billing (WhatsApp focused) ---
        const cartIcon = document.getElementById('cartIcon');
        const cartCountSpan = document.getElementById('cartCount');
        const cartModal = document.getElementById('cartModal');
        const closeCartModalBtn = document.getElementById('closeCartModal');
        const cartItemsList = document.getElementById('cartItemsList');
        const cartTotalDiv = document.getElementById('cartTotal');
        const checkoutButton = document.getElementById('checkoutButton');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const billingModal = document.getElementById('billingModal');
        const closeBillingModalBtn = document.getElementById('closeBillingModal');
        const backToCartButton = document.getElementById('backToCartButton');
        const billingItemsList = document.getElementById('billingItemsList');
        const couponCodeInput = document.getElementById('couponCodeInput');
        const applyCouponButton = document.getElementById('applyCouponButton');
        const couponMessageDiv = document.getElementById('couponMessage');
        const subtotalSpan = document.getElementById('subtotal');
        const discountSpan = document.getElementById('discount');
        const finalTotalSpan = document.getElementById('finalTotal');
        const sendWhatsAppInquiryButton = document.getElementById('sendWhatsAppInquiry');
        const customerNameInput = document.getElementById('customerName');
        const customerEmailInput = document.getElementById('customerEmail');
        const customerPhoneInput = document.getElementById('customerPhone');
        const customerMessageInput = document.getElementById('customerAddress'); // Renamed for clarity

        let cart = JSON.parse(localStorage.getItem('jk-gems-cart')) || [];
        let currentSubtotal = "Inquire for Pricing"; // Kept for consistency in UI, but functionally "Inquire"
        let currentTotal = "Inquire for Pricing"; // Kept for consistency in UI, but functionally "Inquire"
        let couponApplied = false; // Kept for consistency in UI, but functionally "Inquire"

        function saveCart() { localStorage.setItem('jk-gems-cart', JSON.stringify(cart)); }

        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountSpan.textContent = totalItems;
            cartCountSpan.style.display = totalItems > 0 ? 'block' : 'none';
            if (cartModal.style.display === 'flex') renderCart();
        }

        // Enhanced Add to Cart Functionality
        function addToCart(product) {
            const existingItemIndex = cart.findIndex(item => item.id === product.id);
            if (existingItemIndex > -1) {
                cart[existingItemIndex].quantity++;
            } else {
                cart.push({...product, quantity: 1});
            }

            const notification = document.getElementById('cartNotification');
            notification.classList.add('show');
            setTimeout(() => notification.classList.remove('show'), 2000);

            saveCart();
            updateCartUI();
            console.log(`${product.name} added to inquiry list!`);
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartUI();
            if (billingModal.style.display === 'flex') renderBillingContent();
        }

        function renderCart() {
            cartItemsList.innerHTML = '';
            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
                cartTotalDiv.style.display = 'none';
                checkoutButton.style.display = 'none';
            } else {
                emptyCartMessage.style.display = 'none';
                cartTotalDiv.style.display = 'block';
                checkoutButton.style.display = 'block';
                cart.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <div class="item-details">
                            <span class="item-name">${item.name}</span>
                            <span class="item-quantity"> (x${item.quantity})</span><br>
                            <span class="item-price">Inquire for Pricing</span>
                        </div>
                        <button class="remove-item" data-product-id="${item.id}" aria-label="Remove ${item.name} from inquiry list" tabindex="0">Remove</button>`;
                    cartItemsList.appendChild(listItem);
                });
                cartTotalDiv.textContent = `Total: Inquire for Pricing`;
            }
        }

        function renderBillingContent() {
            billingItemsList.innerHTML = '';
            currentSubtotal = "Inquire for Pricing";
            couponApplied = false;
            if (cart.length === 0) {
                closeBillingModal(); openCartModal(); return;
            }
            cart.forEach(item => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    <div class="item-details">
                        <span class="item-name">${item.name}</span>
                        <span class="item-quantity"> (x${item.quantity})</span><br>
                        <span class="item-price">Inquire for Pricing</span>
                    </div>
                    <button class="remove-item" data-product-id="${item.id}" aria-label="Remove ${item.name} from inquiry" tabindex="0">Remove</button>`;
                billingItemsList.appendChild(listItem);
            });
            subtotalSpan.textContent = `Inquire for Pricing`;
            discountSpan.textContent = `Inquire for Pricing`;
            finalTotalSpan.textContent = `Inquire for Pricing`;
            currentTotal = "Inquire for Pricing";
            couponCodeInput.value = '';
            couponMessageDiv.textContent = '';
            couponMessageDiv.className = '';
        }

        function applyCoupon() {
            couponMessageDiv.textContent = 'Please inquire directly via WhatsApp for coupon details.';
            couponMessageDiv.classList.add('info');
        }

        function generateWhatsAppLink() {
            let message = "Hello J.K Gems, I'd like to inquire about the following items from your website:\n\n";
            cart.forEach(item => {
                message += `- ${item.name} (Quantity: ${item.quantity})\n`;
            });

            if (couponCodeInput.value) {
                message += `\nI'm also interested in inquiring about coupon code: ${couponCodeInput.value}\n`;
            }

            const customerName = customerNameInput.value.trim();
            const customerEmail = customerEmailInput.value.trim();
            const customerMessage = customerMessageInput.value.trim();

            if (customerName) message += `\nMy Name: ${customerName}`;
            if (customerEmail) message += `\nMy Email: ${customerEmail}`;
            if (customerMessage) message += `\nMy Message: ${customerMessage}`;

            message += `\n\nLooking forward to hearing from you.`;

            // WhatsApp API URL for Junagadh, Gujarat, India number +91 9723197899
            const whatsappNumber = "919723197899";
            const encodedMessage = encodeURIComponent(message);
            return `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
        }

        function openWhatsAppInquiry() {
            if (cart.length === 0) {
                alert("Your inquiry list is empty. Please add items before proceeding.");
                return;
            }
            const whatsappLink = generateWhatsAppLink();
            window.open(whatsappLink, '_blank');
            // Optional: Clear cart after inquiry, or add a confirmation step
            // cart = [];
            // saveCart();
            // updateCartUI();
            // closeBillingModal();
            // alert("Your inquiry has been sent to J.K Gems via WhatsApp!");
        }


        function openCartModal() { cartModal.style.display = 'flex'; renderCart(); closeCartModalBtn.focus(); }
        function closeCartModal() { cartModal.style.display = 'none'; }
        function openBillingModal() {
            if (cart.length === 0) { alert("Your inquiry list is empty."); return; }
            closeCartModal(); billingModal.style.display = 'flex'; renderBillingContent(); closeBillingModalBtn.focus();
        }
        function closeBillingModal() { billingModal.style.display = 'none'; }

        cartIcon.addEventListener('click', openCartModal);
        cartIcon.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); openCartModal(); }});
        closeCartModalBtn.addEventListener('click', closeCartModal);
        closeCartModalBtn.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); closeCartModal(); }});
        cartModal.addEventListener('click', e => { if (e.target === cartModal) closeCartModal(); });
        checkoutButton.addEventListener('click', openBillingModal);
        closeBillingModalBtn.addEventListener('click', closeBillingModal);
        closeBillingModalBtn.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); closeBillingModal(); }});
        billingModal.addEventListener('click', e => { if (e.target === billingModal) closeBillingModal(); });
        backToCartButton.addEventListener('click', e => { e.preventDefault(); closeBillingModal(); openCartModal(); });
        backToCartButton.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); closeBillingModal(); openCartModal(); }});
        document.body.addEventListener('click', e => {
            if (e.target.classList.contains('remove-item')) {
                const productId = e.target.dataset.productId;
                if (productId) removeFromCart(productId);
            }
        });
        document.body.addEventListener('keydown', e => {
            if (e.target.classList.contains('remove-item') && (e.key === ' ' || e.key === 'Enter')) {
                e.preventDefault(); const productId = e.target.dataset.productId;
                if (productId) removeFromCart(productId);
            }
        });
        applyCouponButton.addEventListener('click', applyCoupon);
        applyCouponButton.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); applyCoupon(); }});
        couponCodeInput.addEventListener('keypress', e => { if (e.key === 'Enter') { e.preventDefault(); applyCoupon(); }});
        sendWhatsAppInquiryButton.addEventListener('click', openWhatsAppInquiry);

        document.querySelectorAll('.back-to-categories').forEach(button => {
            button.addEventListener('click', e => { e.preventDefault(); showCategoryGrid(); });
            button.addEventListener('keydown', e => { if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); showCategoryGrid(); }});
        });

        // --- Scroll to Top Button ---
        const scrollToTopButton = document.querySelector('.scroll-to-top');
        if (scrollToTopButton) {
            window.addEventListener('scroll', () => {
                scrollToTopButton.classList.toggle('visible', window.scrollY > 200);
            });
            scrollToTopButton.addEventListener('click', e => {
                e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            scrollToTopButton.addEventListener('keydown', e => {
                if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' });}
            });
        }

        // --- Smooth scroll for nav links ---
        document.querySelectorAll('nav ul li a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute('href'));
                if (targetElement) {
                    const offsetPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                }
            });
        });

        // Initialize Floating Particles
        function createGemParticles() {
            const particlesContainer = document.createElement('div');
            particlesContainer.style.position = 'fixed';
            particlesContainer.style.top = '0';
            particlesContainer.style.left = '0';
            particlesContainer.style.width = '100%';
            particlesContainer.style.height = '100%';
            particlesContainer.style.pointerEvents = 'none';
            particlesContainer.style.zIndex = '-1'; // Behind all content

            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'gem-particle';
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 4}s`;
                particle.style.width = `${Math.random() * 10 + 5}px`;
                particle.style.height = particle.style.width;
                particlesContainer.appendChild(particle);
            }
            document.body.insertBefore(particlesContainer, document.body.firstChild); // Insert before other body elements
        }

        // --- DOMContentLoaded Initializer ---
        document.addEventListener('DOMContentLoaded', () => {
            createGemParticles();
            AOS.init({
                duration: 800,
                once: true,
                easing: 'ease-out-quart',
            });

            showCategoryGrid();
            updateCartUI();
            document.getElementById('products').addEventListener('click', handleProductSectionClick);
            document.getElementById('products').addEventListener('keydown', handleProductSectionKeydown);
        });

        function handleProductSectionClick(event) {
            const target = event.target;
            const categoryCard = target.closest('.product.category-card:not(.product-item)');
            if (categoryCard) {
                const categoryId = categoryCard.dataset.categoryTarget;
                if (categoryId) showProductContainer(categoryId); return;
            }
            if (target.classList.contains('add-to-cart-button')) {
                const product = {
                    id: target.dataset.productId, name: target.dataset.productName,
                    price: "Inquire for Pricing"
                };
                if (product.id && product.name) addToCart(product);
                else console.error("Missing product data for Add to Inquiry List:", product);
                return;
            }
            if (target.tagName === 'IMG' && target.closest('.category-products-grid .product')) {
                imageModal.style.display = 'flex'; modalImg.src = target.src; modalImg.alt = target.alt;
                imageModal.querySelector('.close').focus();
            }
        }

        function handleProductSectionKeydown(event) {
            const target = event.target;
            const categoryCard = target.closest('.product.category-card:not(.product-item)');
            if (categoryCard && (event.key === ' ' || event.key === 'Enter')) {
                event.preventDefault(); const categoryId = categoryCard.dataset.categoryTarget;
                if (categoryId) showProductContainer(categoryId);
            }
        }

        // Escape key to close modals
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (billingModal.style.display === 'flex') closeBillingModal();
                else if (cartModal.style.display === 'flex') closeCartModal();
                else if (imageModal.style.display === 'flex') imageModal.style.display = 'none';
            }
        });
    </script>
</body>
</html>

