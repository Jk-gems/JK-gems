<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.K Gems - Exquisite Gemstones & Spiritual Items</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;600;700&family=Lora:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- Modern & Elegant Variables and Base Styles --- */
        :root {
            /* New Thoughtful Color Palette: Deep Blues, Golds, Neutrals */
            --primary-dark: #1A3A4E; /* Deep Navy/Teal: Headings, Header/Footer Background */
            --secondary-accent: #B88A45; /* Slightly richer Muted Gold/Bronze: Links, Icons, Highlights, Button Hover */
            --background-light: #F5F5DC; /* Light Beige/Cream: Body Background */
            --text-color-dark: #333333; /* Dark Grey: Body Text */
            --border-neutral: #D3D3D3; /* Light Grey: Borders, Separators */
            --card-bg: #FFFFFF; /* White: Product Card Background */

            --whatsapp-green: #25D366; /* Standard WhatsApp green */
            --whatsapp-green-hover: #1DA851;

            --footer-text-color: var(--background-light); /* Footer text color contrasting with dark footer background */

            --section-padding-vertical: 100px; /* Increased Vertical padding for sections - Intentional Layout/Whitespace */
            --section-padding-horizontal: 25px; /* Slightly increased Horizontal padding for sections - Intentional Layout/Whitespace */

            --button-primary: var(--primary-dark); /* Define a primary button color */
            --button-primary-text: var(--background-light);
            --button-primary-hover: var(--secondary-accent);
            --button-primary-hover-text: var(--primary-dark);

            --button-secondary: var(--secondary-accent); /* Define a secondary button color */
            --button-secondary-text: var(--primary-dark);
            --button-secondary-hover: var(--primary-dark);
            --button-secondary-hover-text: var(--background-light);
        }

        body {
            font-family: 'Lato', sans-serif; /* Effective Typography: Body font */
            font-weight: 400; /* Adjusted body font weight for better contrast */
            margin: 0;
            padding: 0;
            background-color: var(--background-light); /* Background color from new palette */
            color: var(--text-color-dark); /* Main body text color from new palette */
            line-height: 1.6; /* Effective Typography: Line height for readability */
            overflow-x: hidden; /* Prevent horizontal scroll issues */
            scroll-behavior: smooth; /* Smooth scroll for anchors */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Lora', serif; /* Effective Typography: Heading font */
            color: var(--primary-dark); /* Headings color from new palette */
            line-height: 1.3;
            margin-top: 0;
        }

        h2 {
            font-size: 2.8em; /* Visual Hierarchy: Heading size */
            margin-bottom: 40px; /* Intentional Layout/Whitespace */
            text-align: center;
            font-weight: 700; /* Visual Hierarchy: Heading weight */
        }

        h3 {
            font-size: 1.8em; /* Visual Hierarchy: Heading size */
            margin-bottom: 20px; /* Intentional Layout/Whitespace */
            font-weight: 600; /* Visual Hierarchy: Heading weight */
        }

        p {
            margin-bottom: 1.2em; /* Intentional Layout/Whitespace */
            color: var(--text-color-dark); /* Paragraph text color from new palette */
        }

        a {
            color: var(--primary-dark); /* Default link color from new palette */
            text-decoration: none;
            transition: color 0.3s ease; /* Attention to Detail: Smooth transition */
        }

        a:hover {
            color: var(--secondary-accent); /* Link hover color from new palette - Attention to Detail */
        }

        .container {
            max-width: 1200px; /* Intentional Layout: Max width for content */
            margin: 0 auto; /* Intentional Layout: Center container */
            padding: 0 var(--section-padding-horizontal); /* Intentional Layout/Whitespace */
        }

        .section {
            padding: var(--section-padding-vertical) 0; /* Vertical padding only, horizontal handled by container */
            text-align: center;
        }

        /* --- Header/Navigation --- */
        .header {
            background-color: var(--primary-dark); /* Darkest color for header background - Thoughtful Color Palette */
            padding: 15px 0; /* Vertical padding only, horizontal handled by container */
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Attention to Detail: Stronger shadow */
            position: static; /* Default position */
            width: 100%;
            z-index: 1000;
        }

        .header .container {
             display: flex; /* Intentional Layout: Flexbox for logo and nav */
             justify-content: space-between; /* Intentional Layout: Space between logo and nav */
             align-items: center;
             flex-wrap: wrap; /* Responsiveness */
        }

        .header img {
            max-width: 160px; /* Slightly smaller logo */
            height: auto;
            display: block;
            margin: 0;
        }

        .nav {
            margin-top: 0;
            display: flex; /* Align nav and cart */
            align-items: center;
        }

        .nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex; /* User-Friendly Navigation: Flexbox for nav items */
            flex-wrap: wrap; /* Responsiveness */
            justify-content: center;
            align-items: center;
        }

        .nav li {
            margin-left: 30px; /* Intentional Layout/Whitespace */
        }

        .nav a {
            color: var(--background-light); /* Lightest color for nav links on dark header - Thoughtful Color Palette */
            font-family: 'Lato', sans-serif; /* Effective Typography */
            font-weight: 600; /* Effective Typography */
            font-size: 1.1em;
            padding: 5px 0;
            position: relative;
        }

        .nav a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: var(--secondary-accent); /* Gold accent for hover underline - Attention to Detail */
            transition: width 0.3s ease-in-out; /* Attention to Detail: Smooth transition */
        }

        .nav a:hover::after {
            width: 100%;
        }

        /* Cart Icon in Header */
        .cart-icon-container {
            margin-left: 30px; /* Space from last nav item */
            position: relative;
            cursor: pointer;
            color: var(--background-light); /* Icon color */
            font-size: 1.5em;
            transition: color 0.3s ease;
        }

        .cart-icon-container:hover {
            color: var(--secondary-accent); /* Hover color */
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: red;
            color: white;
            font-size: 0.7em;
            font-weight: 700;
            border-radius: 50%;
            padding: 2px 6px;
            line-height: 1;
            min-width: 10px;
            text-align: center;
        }


         /* Responsiveness: Adjustments for Header/Navigation */
         @media (max-width: 768px) {
             .header .container {
                 flex-direction: column;
             }
             .header img {
                 margin-bottom: 15px; /* Reduced margin */
             }
             .nav {
                 flex-direction: column;
                 align-items: center;
                 width: 100%;
             }
             .nav ul {
                 flex-direction: column;
                 align-items: center;
                 width: 100%;
                 margin-bottom: 15px; /* Space below nav list */
             }
             .nav li {
                 margin: 10px 0; /* Adjusted margin */
                 width: 100%; /* Make list items take full width */
                 border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Subtle separator */
                 padding-bottom: 10px;
             }
             .nav li:last-child {
                 border-bottom: none; /* No border on the last item */
                 padding-bottom: 0;
             }
             .nav a {
                 display: block; /* Make links fill the width */
                 text-align: center;
             }
             .cart-icon-container {
                 margin-left: 0; /* Remove left margin */
                 margin-top: 10px; /* Add top margin below nav */
             }
             .header {
                 padding: 15px 0; /* Adjusted vertical padding */
             }
         }


        /* --- Hero Section --- */
        .hero {
            position: relative;
            height: 600px; /* Increased hero height */
            /* High-Quality Visuals: Placeholder for your hero background image */
            background: url('YOUR_HERO_IMAGE_URL.jpg') no-repeat center center/cover;
            display: flex; /* Center content */
            align-items: center;
            justify-content: center;
            color: white; /* Text color for hero content */
            overflow: hidden; /* Ensure parallax doesn't cause scroll issues */
            background-attachment: fixed; /* Parallax effect */
            padding: var(--section-padding-vertical) 0; /* Apply vertical padding */
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Slightly darker overlay for text readability */
            z-index: 1;
        }

        .hero .container {
            position: relative;
            z-index: 2; /* Ensure content is above overlay */
            text-align: center; /* Center the text within the container */
        }

        .hero-content {
             /* This div is no longer needed for layout as container handles it */
             /* If specific styling is needed, apply directly or re-evaluate structure */
             /* Removed max-width and padding as container handles it */
        }


        .hero .container h1 { /* Target h1 within hero container */
            color: #FFFFFF; /* White for hero heading */
            font-size: 4em;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5); /* Text shadow for readability */
        }

        .hero .container p { /* Target p within hero container */
            color: rgba(255, 255, 255, 0.9); /* Slightly transparent white for paragraph */
            font-size: 1.3em;
            margin-bottom: 30px;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.4); /* Text shadow for readability */
        }

        .hero-cta-button {
            display: inline-block;
            background-color: var(--secondary-accent); /* Gold accent for CTA */
            color: var(--primary-dark); /* Dark text on gold button */
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: 700;
            border-radius: 30px; /* Pill shape */
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .hero-cta-button:hover {
            background-color: #B0925B; /* Slightly darker gold on hover */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }


        /* --- About Us & Contact Section (Consolidated) --- */
        .about-contact .container {
            text-align: left;
             display: flex; /* Intentional Layout: Flexbox for content columns */
             flex-wrap: wrap; /* Responsiveness */
             align-items: flex-start;
             gap: 40px; /* Adjusted gap */
             justify-content: center; /* Center columns if they don't fill width */
        }

         .about-content, .contact-info {
             flex: 1; /* Intentional Layout: Allow columns to grow */
             min-width: 300px; /* Adjusted min width before stacking */
         }

        .about-contact h2 {
            text-align: center;
            width: 100%;
            margin-bottom: 50px; /* Adjusted margin */
        }

         .about-content h3, .contact-info h3 {
             text-align: left;
             margin-bottom: 20px; /* Adjusted margin */
             font-size: 1.7em; /* Visual Hierarchy */
             color: var(--primary-dark); /* Subheadings color from new palette */
         }

        .about-contact p {
            font-size: 1.05em; /* Adjusted font size */
            margin-bottom: 1.2em;
            color: var(--text-color-dark); /* Text color from new palette */
        }

        .about-contact address {
             font-style: normal;
             margin-top: 15px;
             font-size: 1.05em; /* Adjusted font size */
             line-height: 1.7;
             color: var(--text-color-dark); /* Text color from new palette */
             margin-bottom: 20px; /* Adjusted margin */
         }

         .contact-info p {
             margin-bottom: 12px; /* Adjusted margin for contact lines */
             color: var(--text-color-dark); /* Text color from new palette */
             font-size: 1.05em;
         }

         .contact-info p i {
             margin-right: 12px; /* Adjusted margin */
             color: var(--secondary-accent); /* Icons color from new palette */
             font-size: 1.2em; /* Slightly larger icons */
             width: 20px; /* Fixed width for alignment */
             text-align: center;
         }


        /* --- Products/Categories Section --- */
        .products .container {
             /* No grid directly on container anymore */
        }

        /* Grid for Categories AND Products (applied to nested containers) */
        .category-grid,
        .category-products-grid { /* Apply grid display to the specific containers */
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Allow flexible columns */
            gap: 30px; /* Adjusted gap */
            margin-top: 30px; /* Add some space below heading/search */
        }

        /* Style for the Category Cards (clickable products) */
        .product.category-card {
             cursor: pointer; /* Indicate it's clickable */
             transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .product.category-card:hover {
             transform: translateY(-5px); /* More pronounced lift for category cards */
             box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* Stronger hover shadow */
             border-color: var(--secondary-accent);
         }

        .product.category-card img {
            /* Image still zooms, ok */
        }

         /* Style for actual Product Items within a category */
         .category-products-container .product {
             cursor: default; /* Reset cursor for actual products */
             transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease; /* Keep transitions for products */
         }

         .category-products-container .product:hover {
             transform: translateY(-4px); /* Subtle lift for actual products */
             box-shadow: 0 8px 18px rgba(0, 0, 0, 0.12); /* Softer hover shadow for actual products */
             border-color: var(--secondary-accent); /* Highlight border on hover */
         }


        .product {
            /* REFINED CARD STYLE - Amazon-like adjustments */
            border: 1px solid var(--border-neutral); /* Add a subtle border */
            padding: 0; /* Remove padding from card itself */
            text-align: left; /* Align text left like Amazon */
            background-color: var(--card-bg); /* Card background color */
            border-radius: 8px; /* Slightly less rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Softer shadow */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }


        .product img {
            width: 100%; /* Image fills card width */
            height: 280px; /* Consistent height */
            object-fit: cover; /* Ensures images cover the space */
            margin-bottom: 0;
            border-bottom: 1px solid var(--border-neutral);
            transition: transform 0.3s ease;
            cursor: zoom-in; /* Indicate image is clickable */
        }

         .product.category-card:hover img {
             transform: scale(1.03); /* Slightly more zoom on category hover */
         }
         .category-products-container .product:hover img {
              transform: scale(1.02); /* Standard zoom on product hover */
         }


        .product-info {
            padding: 15px; /* Ensure sufficient padding inside info area */
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            background-color: rgba(255, 255, 255, 0.95); /* Slightly transparent white background */
            position: relative;
            z-index: 2;
            text-align: left; /* Ensure text alignment */
        }

        .product-info h3 {
            margin-top: 0;
            margin-bottom: 6px; /* Reduced margin */
            font-size: 1.4em; /* Slightly adjusted title size */
            color: var(--primary-dark);
            font-weight: 700;
            font-family: 'Lora', serif;
        }

        .product-info p.product-description {
            font-size: 0.9em; /* Slightly smaller font for description */
            color: #555; /* Lighter grey for description */
            margin-bottom: 12px; /* Space below description */
            flex-grow: 1; /* Allow description to take up available space */
            line-height: 1.5; /* Adjust line height for readability */
        }

        .product-price {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--secondary-accent); /* Price color */
            margin-bottom: 15px; /* Space below price */
        }

        /* Add to Cart Button */
        .add-to-cart-button {
            display: block; /* Full width */
            width: 100%;
            padding: 10px;
            margin-bottom: 10px; /* Space between Add to Cart and WhatsApp */
            background-color: var(--button-primary);
            color: var(--button-primary-text);
            border: none;
            border-radius: 5px; /* Slightly rounded corners */
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            text-align: center; /* Center button text */
        }

        .add-to-cart-button:hover {
            background-color: var(--button-primary-hover);
            color: var(--button-primary-hover-text);
        }

        /* Clear Calls to Action: WhatsApp button */
        .whatsapp-button {
            display: block;
            width: calc(100% - 0px); /* Button width fills card width */
            margin: 0 0 0 0; /* Adjusted margin to align with card edges below Add to Cart */
            padding: 12px;
            background-color: var(--whatsapp-green); /* Standard WhatsApp green */
            color: white;
            text-decoration: none;
            border-radius: 0 0 8px 8px; /* Match card bottom border radius */
            font-size: 1em; /* Slightly smaller button text */
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: none; /* Remove button shadow within card */
            text-align: center;
            transition: background-color 0.3s ease;
        }

        .whatsapp-button i {
            margin-right: 8px;
        }

        .whatsapp-button:hover {
            background-color: var(--whatsapp-green-hover);
            transform: none; /* Remove transform on hover for button inside card */
            box-shadow: none; /* Remove button shadow on hover */
        }

         /* User-Friendly Navigation: Search function layout */
         .search-container {
             margin-bottom: 30px; /* Adjusted margin */
             text-align: center;
         }

         .search-container input {
            width: calc(100% - 40px); /* Allow padding */
            max-width: 500px;
            padding: 12px 20px;
            border: 1px solid var(--border-neutral); /* Border color from new palette */
            border-radius: 25px;
            font-size: 1em;
            box-sizing: border-box;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.1);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            color: var(--text-color-dark); /* Input text color */
         }

        .search-container input::placeholder {
             color: #888; /* Slightly lighter placeholder text */
         }


        .search-container input:focus {
            border-color: var(--secondary-accent); /* Focus border with Gold Accent */
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.1), 0 0 8px rgba(184, 138, 69, 0.6); /* Focus shadow with Gold Accent using updated color */
            outline: none;
        }

         /* Style for the hidden product containers and back button */
         .category-products-container {
             display: none; /* Initially hidden */
             text-align: left; /* Align content left */
             margin-top: 30px;
         }

         .category-products-container h3 {
             text-align: center; /* Center category title */
             margin-bottom: 30px;
             font-size: 2em; /* Visual Hierarchy */
             color: var(--primary-dark);
         }

         .back-to-categories {
             display: inline-block; /* Make it a clickable link */
             margin-bottom: 30px;
             font-size: 1.1em;
             color: var(--primary-dark); /* Link color */
             transition: color 0.3s ease;
         }

         .back-to-categories i {
             margin-right: 8px;
         }

         .back-to-categories:hover {
             color: var(--secondary-accent); /* Hover color */
             text-decoration: underline;
         }


        /* --- Image Modal/Lightbox --- */
        #imageModal {
            display: none; /* Initially hidden */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Dark overlay */
            z-index: 9999; /* Make sure it's on top */
            justify-content: center; /* Use flex for centering */
            align-items: center; /* Use flex for centering */
        }

        #imageModal span { /* Close button */
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: white;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        #imageModal span:hover {
            color: var(--secondary-accent); /* Gold accent on hover */
        }

        #modalImage {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain; /* Ensure the whole image is visible */
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* Add shadow to image */
        }

         /* --- Cart Modal Styling --- */
         #cartModal {
             display: none; /* Hidden by default */
             position: fixed;
             z-index: 10000; /* On top of everything */
             left: 0;
             top: 0;
             width: 100%;
             height: 100%;
             overflow: auto; /* Enable scroll if needed */
             background-color: rgba(0, 0, 0, 0.6); /* Dim background */
             justify-content: center; /* Center content */
             align-items: center; /* Center content */
         }

         .cart-modal-content {
             background-color: var(--card-bg);
             margin: auto;
             padding: 30px;
             border-radius: 10px;
             width: 90%;
             max-width: 600px; /* Limit width */
             box-shadow: 0 5px 15px rgba(0,0,0,0.3);
             position: relative; /* Needed for close button absolute positioning */
             max-height: 80vh; /* Limit height and enable scroll */
             overflow-y: auto; /* Enable scrolling for cart items */
         }

         .cart-modal-content h2 {
             text-align: center;
             margin-top: 0;
             margin-bottom: 20px;
             color: var(--primary-dark);
         }

         .cart-modal-content .close {
             position: absolute;
             top: 15px;
             right: 25px;
             color: #aaa;
             font-size: 35px;
             font-weight: bold;
             cursor: pointer;
             transition: color 0.3s ease;
         }

         .cart-modal-content .close:hover,
         .cart-modal-content .close:focus {
             color: #333;
         }

         #cartItemsList {
             list-style: none;
             padding: 0;
             margin: 0;
         }

         #cartItemsList li {
             border-bottom: 1px solid var(--border-neutral);
             padding: 15px 0;
             display: flex;
             justify-content: space-between;
             align-items: center;
             font-size: 1.1em;
             color: var(--text-color-dark);
         }

         #cartItemsList li:last-child {
             border-bottom: none;
         }

         .item-details {
             flex-grow: 1;
             margin-right: 15px;
         }

         .item-details .item-name {
             font-weight: 600;
             color: var(--primary-dark);
         }

         .item-details .item-quantity {
             font-size: 0.9em;
             color: #555;
         }

         .remove-item {
             background-color: #e74c3c; /* Red color */
             color: white;
             border: none;
             border-radius: 4px;
             padding: 5px 10px;
             cursor: pointer;
             font-size: 0.9em;
             transition: background-color 0.3s ease;
         }

         .remove-item:hover {
             background-color: #c0392b; /* Darker red */
         }

         .cart-total {
             margin-top: 20px;
             text-align: right;
             font-size: 1.3em;
             font-weight: 700;
             color: var(--primary-dark);
             padding-top: 15px;
             border-top: 1px solid var(--border-neutral);
         }

         .checkout-button {
             display: block;
             width: 100%;
             padding: 12px;
             margin-top: 20px;
             background-color: var(--secondary-accent);
             color: var(--primary-dark);
             border: none;
             border-radius: 5px;
             font-size: 1.1em;
             font-weight: 700;
             text-align: center;
             cursor: pointer;
             transition: background-color 0.3s ease, color 0.3s ease;
         }

         .checkout-button:hover {
             background-color: #B0925B;
             color: var(--primary-dark);
         }

         /* Styling for empty cart message */
         #emptyCartMessage {
            text-align: center;
            color: #555;
            margin-top: 20px;
            font-size: 1.1em;
         }


        /* --- Footer --- */
        .footer {
            background-color: var(--primary-dark); /* Darkest color for footer background */
            color: var(--footer-text-color); /* Lightest color for footer text */
            text-align: center;
            padding: 40px 0; /* Vertical padding only, horizontal handled by container */
            margin-top: 60px; /* Adjusted margin */
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.3); /* Stronger shadow */
            font-size: 0.9em;
        }

        .social-links {
            margin-top: 0; /* Adjusted margin */
            margin-bottom: 0; /* Adjusted margin */
        }

        .social-links a {
            display: inline-block;
            margin: 0 15px; /* Adjusted margin */
            color: var(--secondary-accent); /* Social icons color from new palette */
            font-size: 32px; /* Slightly larger icons */
            transition: color 0.3s ease, transform 0.3s ease; /* Attention to Detail: Smooth animation */
        }

        .social-links a:hover {
            color: var(--background-light); /* Social icon hover color from new palette */
            transform: scale(1.1); /* More pronounced hover effect */
        }

        /* --- Responsive Adjustments --- */
        @media (max-width: 1024px) {
             .section h2 {
                 font-size: 2.4em;
             }
             .hero {
                 height: 500px;
             }
             .hero .container h1 { /* Target h1 within hero container */
                 font-size: 3em;
             }
             .hero .container p { /* Target p within hero container */
                 font-size: 1.2em;
             }
              /* Grids adapt */
             .category-grid,
             .category-products-grid { /* Apply grid display to the specific containers */
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); /* Adjusted minmax */
                gap: 25px;
            }
             .product img {
                 height: 250px; /* Adjusted height */
             }
             .product-info {
                 padding: 12px; /* Adjusted padding */
             }
             .product-info h3 {
                 font-size: 1.4em; /* Adjusted title size */
                  margin-bottom: 6px; /* Reduced margin */
             }
             .product-info p.product-description {
                 font-size: 0.9em;
                 margin-bottom: 12px;
             }
              .product-price {
                 font-size: 1.05em;
                 margin-bottom: 12px;
             }
              .add-to-cart-button, .whatsapp-button {
                 font-size: 0.95em;
                 padding: 8px;
             }
             .whatsapp-button {
                 margin-top: 8px;
             }
             .section {
                 padding: 80px 0; /* Adjusted vertical padding */
             }
             .category-products-container h3 {
                 font-size: 1.8em;
             }
        }

        @media (max-width: 768px) {
             .section {
                 padding: 60px 0; /* Adjusted vertical padding */
             }
            .section h2 {
                font-size: 2em;
            }
             .hero {
                 height: 400px; /* Adjusted height */
             }
             .hero .container h1 { /* Target h1 within hero container */
                 font-size: 2.5em;
             }
             .hero .container p { /* Target p within hero container */
                 font-size: 1.1em;
             }
             .hero-cta-button {
                 padding: 12px 25px;
                 font-size: 1.1em;
             }
             .about-contact .container {
                 flex-direction: column;
                 gap: 30px; /* Adjusted gap */
             }
             .about-contact h2, .about-content h3, .contact-info h3 {
                 text-align: center;
             }
             .about-contact p, .about-contact address, .contact-info p {
                 font-size: 1em;
             }
              /* Grids adapt */
             .category-grid,
             .category-products-grid { /* Apply grid display to the specific containers */
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Adjusted minmax for smaller screens */
                gap: 20px;
            }
             .product img {
                 height: 180px; /* Adjusted height for smaller cards */
             }
             .product-info {
                 padding: 10px; /* Adjusted padding */
             }
             .product-info h3 {
                 font-size: 1.3em; /* Adjusted title size */
                  margin-bottom: 5px; /* Reduced margin */
             }
             .product-info p.product-description {
                 font-size: 0.85em;
                 margin-bottom: 10px;
             }
             .product-price {
                 font-size: 1em;
                 margin-bottom: 10px;
             }
             .add-to-cart-button, .whatsapp-button {
                font-size: 0.95em;
                padding: 8px;
             }
            .whatsapp-button {
                 margin-top: 8px; /* Adjusted margin */
            }
             .social-links a {
                font-size: 28px; /* Adjusted icon size */
                margin: 0 12px;
            }
             .footer {
                padding: 30px 0; /* Adjusted vertical padding */
             }
             .category-products-container h3 {
                 font-size: 1.6em;
             }
             .cart-modal-content {
                 padding: 20px;
             }
              #cartItemsList li {
                 font-size: 1em;
                 padding: 10px 0;
             }
              .remove-item {
                 padding: 3px 8px;
                 font-size: 0.85em;
             }
              .cart-total {
                 font-size: 1.2em;
             }
         }

         @media (max-width: 480px) {
              .section {
                 padding: 40px 0; /* Further reduced vertical padding */
             }
             .section h2 {
                 font-size: 1.8em;
             }
             .hero {
                 height: 350px; /* Further reduced height */
             }
             .hero .container h1 { /* Target h1 within hero container */
                 font-size: 2em;
             }
             .hero .container p { /* Target p within hero container */
                 font-size: 0.95em;
             }
             .hero-cta-button {
                 padding: 10px 20px;
                 font-size: 1em;
             }
             .about-contact .container {
                gap: 20px;
             }
             .about-contact p, .about-contact address, .contact-info p {
                 font-size: 0.95em;
             }
              /* Grids stack to 1 column on smallest screens */
             .category-grid,
             .category-products-grid { /* Apply grid display to the specific containers */
                grid-template-columns: 1fr; /* Single column on very small screens */
                gap: 15px; /* Reduced gap */
            }
             .product img {
                height: 160px; /* Reduced height */
            }
             .product-info {
                 padding: 8px; /* Adjusted padding */
             }
             .product-info h3 {
                 font-size: 1.2em; /* Adjusted title size */
                 margin-bottom: 4px; /* Reduced margin */
             }
             .product-info p.product-description {
                 font-size: 0.8em;
                 margin-bottom: 8px;
             }
             .product-price {
                 font-size: 0.95em;
                 margin-bottom: 8px;
             }
             .add-to-cart-button, .whatsapp-button {
                font-size: 0.9em;
                padding: 6px;
             }
            .whatsapp-button {
                 margin-top: 6px; /* Adjusted margin */
            }
             .social-links a {
                font-size: 26px; /* Reduced icon size */
                margin: 0 8px;
            }
             .footer {
                padding: 25px 0; /* Further reduced vertical padding */
             }
             .category-products-container h3 {
                 font-size: 1.4em;
             }
              .cart-modal-content {
                 padding: 15px;
             }
              #cartItemsList li {
                 font-size: 0.95em;
                 padding: 8px 0;
             }
              .remove-item {
                 padding: 2px 6px;
                 font-size: 0.8em;
             }
              .cart-total {
                 font-size: 1.1em;
             }
              .checkout-button {
                font-size: 1em;
                padding: 10px;
              }
         }


    </style>
</head>
<body>

    <header class="header">
        <div class="container">
            <img src="GridArt_20250516_180656516.png" alt="J.K Gems Logo">
            <nav class="nav">
                <ul>
                    <li><a href="#about">About & Visit Us</a></li>
                    <li><a href="#products">Categories</a></li> </ul>
                 <div class="cart-icon-container" id="cartIcon">
                     <i class="fas fa-shopping-cart"></i>
                     <span class="cart-count" id="cartCount">0</span>
                 </div>
                 </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content"> <div class="container"> <h1>Exquisite Gemstones & Spiritual Treasures</h1>
                <p>Discover the perfect blend of beauty, authenticity, and spiritual energy at J.K Gems.</p>
                <a href="#products" class="hero-cta-button">Explore Categories</a> </div> </div> </section>

    <section id="about" class="section about-contact">
        <div class="container">
            <h2>About J.K Gems & Visit Us</h2>
            <div class="about-content">
                <h3>Our Story</h3>
                <p>J.K Gems is a well-known and trusted firm, serving customers with exquisite gemstones and spiritual products since 1965. Founded on principles of quality, authenticity, and integrity, we have built a reputation as a cornerstone in Junagadh's Soni Bajar.</p>
                <p>For generations, we have been dedicated to sourcing the finest gemstones and authentic spiritual items, offering expert guidance and personalized service to our valued customers. Our legacy is built on trust, and our commitment to providing genuine products remains unwavering.</p>
            </div>

            <div class="contact-info">
                 <h3>Contact & Location</h3>
                 <p><i class="fas fa-map-marker-alt"></i> Jk gems<br>Balakrishna market, Haveli gali<br>Soni bajar, Junagadh<br>Gujarat 362001</p>
                 <p><i class="fas fa-phone"></i> +91 9723197899</p>
                 <p><i class="far fa-clock"></i> Business Hours: 10 am to 3 pm and 4 pm to 9 pm</p>
                 <p>You can also inquire directly via WhatsApp using the buttons on our product listings below.</p>
            </div>
        </div>
    </section>

    <section id="products" class="section products">
        <div class="container">
             <h2 id="products-heading">Our Categories</h2> <div class="search-container">
                 <input type="text" id="searchInput" onkeyup="searchItems()" placeholder="Search Categories or Products...">
             </div>

            <div class="category-grid" id="categoryGrid">
                <div class="product category-card" data-category-target="gemstones">
                    <img src="IMG-20250516-WA0015.jpg" alt="Gem stones Category">
                    <div class="product-info">
                        <h3>Gemstones</h3> <p class="product-description">Explore our collection of authentic, high-quality gemstones.</p>
                         </div>
                </div>

                <div class="product category-card" data-category-target="rudraksh">
                    <img src="IMG-20250516-WA0003.jpg" alt="Rudraksh Category">
                     <div class="product-info">
                        <h3>Rudraksh</h3>
                        <p class="product-description">Discover genuine Rudraksha beads and items for spiritual well-being.</p>
                        </div>
                </div>

                <div class="product category-card" data-category-target="yantra">
                    <img src="IMG-20250516-WA0001.jpg" alt="Yantra Category">
                     <div class="product-info">
                        <h3>Yantra & Spiritual Items</h3> <p class="product-description">Sacred geometric diagrams, Sphatik items, and other spiritual treasures.</p>
                        </div>
                </div>

                 </div>
            <div id="gemstones-products-container" class="category-products-container">
                 <a href="#products" class="back-to-categories"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                 <h3>Gemstones Collection</h3>
                 <div class="category-products-grid">
                     <div class="product">
                         <img src="path/to/your_image1.jpg" alt="Example Gemstone 1">
                         <div class="product-info">
                             <h3>Example Gemstone 1</h3>
                             <p class="product-description">Brief description of Example Gemstone 1.</p>
                             <p class="product-price">₹5500.00</p> <button class="add-to-cart-button"
                                     data-product-id="gemstone_ex1"
                                     data-product-name="Example Gemstone 1"
                                     data-product-price="5500"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Example%20Gemstone%201." class="whatsapp-button" target="_blank" aria-label="Inquire about Example Gemstone 1 on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     <div class="product">
                         <img src="IMG-20250516-WA0011.jpg" alt="Gemstone Rings">
                         <div class="product-info">
                             <h3>Gemstone Rings</h3>
                             <p class="product-description">Beautiful rings featuring authentic gemstones for style and astrological benefits.</p>
                              <p class="product-price">₹7500.00</p> <button class="add-to-cart-button"
                                     data-product-id="gemstone_rings_main"
                                     data-product-name="Gemstone Rings"
                                     data-product-price="7500"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Gemstone%20Rings.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Gemstone Rings on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>


                     </div>
            </div>

            <div id="rudraksh-products-container" class="category-products-container">
                <a href="#products" class="back-to-categories"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                <h3>Rudraksh Items</h3>
                <div class="category-products-grid">
                     <div class="product">
                         <img src="IMG-20250516-WA0003.jpg" alt="Rudraksh Beads">
                          <div class="product-info">
                             <h3>Rudraksh Beads</h3>
                             <p class="product-description">Genuine Rudraksha beads for spiritual connection and well-being.</p>
                              <p class="product-price">₹1200.00</p> <button class="add-to-cart-button"
                                     data-product-id="rudraksh_beads_main"
                                     data-product-name="Rudraksh Beads"
                                     data-product-price="1200"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Rudraksh.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Rudraksh on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     <div class="product">
                         <img src="IMG-20250516-WA0016.jpg" alt="Rudraksh Bracelet">
                          <div class="product-info">
                             <h3>Rudraksh Bracelet</h3>
                             <p class="product-description">Wear the spiritual energy with authentic Rudraksh bracelets.</p>
                             <p class="product-price">₹1800.00</p> <button class="add-to-cart-button"
                                     data-product-id="rudraksh_bracelet_main"
                                     data-product-name="Rudraksh Bracelet"
                                     data-product-price="1800"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Rudraksh%20Bracelet.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Rudraksh Bracelet on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     </div>
            </div>

             <div id="yantra-products-container" class="category-products-container">
                <a href="#products" class="back-to-categories"><i class="fas fa-arrow-left"></i> Back to Categories</a>
                <h3>Yantra & Spiritual Collection</h3>
                <div class="category-products-grid">
                     <div class="product">
                         <img src="IMG-20250516-WA0001.jpg" alt="Yantra">
                          <div class="product-info">
                             <h3>Yantra</h3>
                             <p class="product-description">Sacred geometric diagrams for meditation and energy focusing.</p>
                             <p class="product-price">₹2500.00</p> <button class="add-to-cart-button"
                                     data-product-id="yantra_main"
                                     data-product-name="Yantra"
                                     data-product-price="2500"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Yantra.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Yantra on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                      <div class="product">
                         <img src="61Fg6DsA4iL._AC_UF894,1000_QL80_.jpg" alt="Sphatik Shree Yantra">
                         <div class="product-info">
                             <h3>Sphatik Shree Yantra</h3>
                             <p class="product-description">Clear quartz Shree Yantra for purity, prosperity, and positive energy.</p>
                             <p class="product-price">₹3200.00</p> <button class="add-to-cart-button"
                                     data-product-id="sphatik_shree_yantra_main"
                                     data-product-name="Sphatik Shree Yantra"
                                     data-product-price="3200"> Add to Cart
                             </button>
                              <a href="https://wa.me/919723197899?text=Hello,%20I'm%20interested%20in%20Sphatik%20Shree%20Yantra.%20Could%20you%20provide%20more%20details%20and%20pricing?" class="whatsapp-button" target="_blank" aria-label="Inquire about Sphatik Shree Yantra on WhatsApp"><i class="fab fa-whatsapp"></i> Inquire Now</a>
                         </div>
                     </div>
                     </div>
            </div>
            </div>
    </section>

    <footer class="footer">
        <div class="container"> <div class="social-links">
                <a href="https://www.instagram.com/j_k_gems" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://www.facebook.com/YOUR_FACEBOOK_PAGE_ID" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="https://youtube.com/@jkgems-td3et?si=Ne4JWKic5aeZfBTa" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
        </div> </footer>

    <div id="imageModal">
        <span class="close">×</span>
        <img src="" id="modalImage" alt="Enlarged product image">
    </div>

    <div id="cartModal">
        <div class="cart-modal-content">
            <span class="close" id="closeCartModal">&times;</span>
            <h2>Your Cart</h2>
            <div id="emptyCartMessage">Your cart is empty.</div>
            <ul id="cartItemsList">
                </ul>
            <div class="cart-total" id="cartTotal"></div>
            <button class="checkout-button" id="checkoutButton">Proceed to Inquiry with Cart</button>
        </div>
    </div>
    <script>
        // --- Category/Product View Switching ---
        const categoryGrid = document.getElementById('categoryGrid');
        const productContainers = document.querySelectorAll('.category-products-container');
        const productsHeading = document.getElementById('products-heading');
        const searchInput = document.getElementById('searchInput');
        const categoryCards = document.querySelectorAll('.category-card');
        const backButtons = document.querySelectorAll('.back-to-categories');

        // Function to show only the category grid
        function showCategoryGrid() {
            productsHeading.textContent = 'Our Categories';
            searchInput.placeholder = 'Search Categories...';
            categoryGrid.style.display = 'grid'; // Show the category grid
            productContainers.forEach(container => {
                container.style.display = 'none'; // Hide all product containers
            });
            // Set search to work on categories
            searchInput.onkeyup = searchCategories;
            searchInput.value = ''; // Clear search input
            searchCategories(); // Apply search filter if any text was present
            addImageModalListeners(); // Re-attach modal listeners to category images if needed (currently only on products)
        }

        // Function to show a specific product container
        function showProductContainer(categoryId) {
             const containerToShow = document.getElementById(categoryId + '-products-container');
             if (!containerToShow) {
                 console.error("Product container not found for category:", categoryId);
                 // Fallback: Show category grid or do nothing
                 showCategoryGrid();
                 return;
             }
             // Capitalize first letter for heading
             const categoryName = categoryId.charAt(0).toUpperCase() + categoryId.slice(1);
             productsHeading.textContent = `${categoryName} Collection`; // Update heading
             searchInput.placeholder = `Search ${categoryName} products...`; // Update search placeholder

             categoryGrid.style.display = 'none'; // Hide the category grid
             productContainers.forEach(container => {
                 container.style.display = 'none'; // Hide all product containers
             });
             containerToShow.style.display = 'block'; // Show the selected product container

             // Set search to work on products within this category
             searchInput.onkeyup = searchProductsInCategory;
             searchInput.value = ''; // Clear search input
             searchProductsInCategory(); // Apply search filter if any text was present

             // Smooth scroll to the top of the products section
             document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
             addImageModalListeners(); // Add modal listeners to the *newly visible* product images
        }

        // Event listeners for category cards
        categoryCards.forEach(card => {
            card.addEventListener('click', function() {
                const targetId = this.dataset.categoryTarget;
                if (targetId) {
                    showProductContainer(targetId);
                }
            });
        });

        // Event listeners for "Back to Categories" buttons
        backButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent default anchor jump
                showCategoryGrid();
                 // Smooth scroll back to the top of the products section (which now shows categories)
                 document.getElementById('products').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });

        // --- Updated Search Functionality ---
        // Search only categories when the category grid is visible
        function searchCategories() {
             const input = document.getElementById('searchInput');
             const filter = input.value.toUpperCase();
             // Get only the category cards within the visible category grid
             const categories = categoryGrid.querySelectorAll('.product.category-card'); // Select specifically

             categories.forEach(category => {
                 // Search text in heading and description
                 const h3 = category.querySelector('h3');
                 const description = category.querySelector('.product-description');
                 const textValue = (h3 ? h3.textContent || h3.innerText : '') + ' ' + (description ? description.textContent || description.innerText : '');
                 if (textValue.toUpperCase().indexOf(filter) > -1) {
                     category.style.display = ""; // Show
                 } else {
                     category.style.display = "none"; // Hide
                 }
             });
        }

        // Search only products within the currently visible category container
        function searchProductsInCategory() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toUpperCase();
            // Get the currently visible category products grid
            const visibleProductGrid = document.querySelector('.category-products-container[style*="display: block"] .category-products-grid');

            if (!visibleProductGrid) {
                 // This should not happen if showProductContainer works correctly, but as a safeguard
                 console.warn("No visible product grid found for search.");
                 return;
            }

            const products = visibleProductGrid.querySelectorAll('.product'); // Get products within the visible grid

            products.forEach(product => {
                 // Search text in heading, description, and potentially price
                 const h3 = product.querySelector('h3');
                 const description = product.querySelector('.product-description');
                 const priceElement = product.querySelector('.product-price'); // Include price in search
                 const textValue = (h3 ? h3.textContent || h3.innerText : '') + ' ' +
                                   (description ? description.textContent || description.innerText : '') + ' ' +
                                   (priceElement ? priceElement.textContent || priceElement.innerText : '');


                if (textValue.toUpperCase().indexOf(filter) > -1) {
                    product.style.display = ""; // Show
                } else {
                    product.style.display = "none"; // Hide
                }
            });
        }

        // The search function used by the input's onkeyup will be set dynamically
        let searchItems = searchCategories; // Initial function set on load


        // --- Image Modal Functionality ---
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const closeBtn = modal.querySelector('.close');

        // Function to add click listeners to product images for the modal
        function addImageModalListeners() {
            // Get all product images that should open the modal (now only within product containers)
            const productImages = document.querySelectorAll('.category-products-container .product img');

            // Remove any previously added listeners to avoid duplicates
             productImages.forEach(img => {
                 if (img.dataset.modalListenerAdded) {
                     // This is a simple way to avoid adding multiple listeners to the same element
                     // A more robust solution might involve `removeEventListener` if you store the function reference,
                     // or using event delegation on the parent container. Delegation is better for dynamic content.
                 }
             });

             // Use event delegation on a common ancestor that is always present
             // The #products section is a good candidate
             document.getElementById('products').addEventListener('click', function(event) {
                 const target = event.target;
                 // Check if the clicked element is an image inside a product within a product container
                 if (target.tagName === 'IMG' && target.closest('.category-products-container .product')) {
                     modal.style.display = 'flex'; // Use flex to center
                     modalImg.src = target.src; // Set modal image source
                     modalImg.alt = target.alt; // Set modal image alt text for accessibility
                 }
             });

             // Set a flag or just let the delegation handle it
             // For delegation, you don't need flags on individual images.
        }

        // Add click listener to the modal close button
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none'; // Hide modal
        });

        // Add click listener to the modal background to close
        modal.addEventListener('click', function(e) {
            if (e.target === modal) { // Close only if clicking directly on the modal background
                modal.style.display = 'none';
            }
        });

        // Optional: Close with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'flex') {
                modal.style.display = 'none';
            }
        });

        // Call the listener function once to set up delegation
        addImageModalListeners();


        // --- Add to Cart Functionality ---
        const cartIcon = document.getElementById('cartIcon');
        const cartCountSpan = document.getElementById('cartCount');
        const cartModal = document.getElementById('cartModal');
        const closeCartModalBtn = document.getElementById('closeCartModal');
        const cartItemsList = document.getElementById('cartItemsList');
        const cartTotalDiv = document.getElementById('cartTotal');
        const checkoutButton = document.getElementById('checkoutButton');
        const emptyCartMessage = document.getElementById('emptyCartMessage');


        // Load cart from localStorage or initialize empty array
        let cart = JSON.parse(localStorage.getItem('jk-gems-cart')) || [];

        // Function to save cart to localStorage
        function saveCart() {
            localStorage.setItem('jk-gems-cart', JSON.stringify(cart));
        }

        // Function to update cart UI (count and list)
        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountSpan.textContent = totalItems;

            // Hide count if 0
            cartCountSpan.style.display = totalItems > 0 ? 'block' : 'none';

            renderCart(); // Re-render the cart modal content
        }

        // Function to add item to cart
        function addToCart(product) {
            const existingItemIndex = cart.findIndex(item => item.id === product.id);

            if (existingItemIndex > -1) {
                // Item already in cart, increase quantity
                cart[existingItemIndex].quantity++;
            } else {
                // Item not in cart, add it
                cart.push({...product, quantity: 1}); // Add quantity property
            }

            saveCart();
            updateCartUI();
            alert(`${product.name} added to cart!`); // Simple confirmation
        }

        // Function to remove item from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartUI();
        }

        // Function to render cart items in the modal
        function renderCart() {
            cartItemsList.innerHTML = ''; // Clear current list
            let total = 0;

            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
                cartTotalDiv.style.display = 'none';
                checkoutButton.style.display = 'none';
            } else {
                emptyCartMessage.style.display = 'none';
                cartTotalDiv.style.display = 'block';
                checkoutButton.style.display = 'block';

                cart.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <div class="item-details">
                            <span class="item-name">${item.name}</span>
                            <span class="item-quantity"> (x${item.quantity})</span>
                            <br>
                            <span class="item-price">₹${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                        <button class="remove-item" data-product-id="${item.id}">Remove</button>
                    `;
                    cartItemsList.appendChild(listItem);
                    total += item.price * item.quantity;
                });

                cartTotalDiv.textContent = `Total: ₹${total.toFixed(2)}`;
            }
        }

        // Event listener for "Add to Cart" buttons using delegation
        // Listen on the main #products section as category containers are within it
        document.getElementById('products').addEventListener('click', function(event) {
            const target = event.target;
            // Check if the clicked element is an Add to Cart button
            if (target.classList.contains('add-to-cart-button')) {
                const product = {
                    id: target.dataset.productId,
                    name: target.dataset.productName,
                    price: parseFloat(target.dataset.productPrice) // Parse price as number
                };
                // Validate data
                if (product.id && product.name && !isNaN(product.price)) {
                     addToCart(product);
                } else {
                     console.error("Missing or invalid product data for Add to Cart:", product);
                     alert("Could not add item to cart. Missing product details.");
                }
            }
        });

         // Event listener for "Remove" buttons in the cart modal using delegation
         cartItemsList.addEventListener('click', function(event) {
             const target = event.target;
             if (target.classList.contains('remove-item')) {
                 const productId = target.dataset.productId;
                 if (productId) {
                     removeFromCart(productId);
                 }
             }
         });


        // Event listeners for Cart Modal
        cartIcon.addEventListener('click', function() {
            cartModal.style.display = 'flex'; // Show modal
             renderCart(); // Render cart content every time modal opens
        });

        closeCartModalBtn.addEventListener('click', function() {
            cartModal.style.display = 'none'; // Hide modal
        });

        // Close modal if user clicks outside of it
        cartModal.addEventListener('click', function(e) {
            if (e.target === cartModal) {
                cartModal.style.display = 'none';
            }
        });

        // Checkout Button (Example - customize this!)
        checkoutButton.addEventListener('click', function() {
             if (cart.length === 0) {
                 alert("Your cart is empty.");
                 return;
             }

            // --- Example: Generate Order Summary for Manual Contact ---
            let orderSummary = "J.K Gems Order Inquiry:\n\nItems:\n";
            cart.forEach(item => {
                orderSummary += `- ${item.name} (Qty: ${item.quantity}) - ₹${(item.price * item.quantity).toFixed(2)}\n`;
            });
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            orderSummary += `\nTotal: ₹${total.toFixed(2)}\n\n`;
            orderSummary += `Please confirm availability and payment details.`;

            // --- Option 1: Display Summary and Instruct User ---
            // alert(orderSummary + "\n\nPlease contact J.K Gems via WhatsApp or phone to confirm this order.");
            // cartModal.style.display = 'none'; // Close modal


            // --- Option 2: Pre-fill WhatsApp Message (Limited Length) ---
            // This might exceed WhatsApp's URL length limit for large carts.
            const whatsappNumber = '919723197899'; // Your WhatsApp number
            const encodedSummary = encodeURIComponent(orderSummary);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedSummary}`;

            // Open WhatsApp
            window.open(whatsappUrl, '_blank');

             // Optionally clear cart after sending inquiry, or keep it until purchase is confirmed manually
             // cart = []; // Clear cart
             // saveCart();
             // updateCartUI();
             // cartModal.style.display = 'none'; // Close modal

             // --- Option 3: Use formsubmit.co (If you add a contact form) ---
             // You could potentially send the cart details to yourself via a hidden form
             // using formsubmit.co as part of a dedicated 'Inquiry with Cart' page.
             // This requires building that form and page.


            // For now, let's stick with generating the WhatsApp message.
            alert("Opening WhatsApp with your cart details. Please send the message to proceed with your inquiry.");


        });


        // Initial update of cart UI on page load
        document.addEventListener('DOMContentLoaded', () => {
            showCategoryGrid(); // Make sure categories are shown initially
            updateCartUI(); // Load and display initial cart state
        });


        // Feature: Optional - Add a slight reveal animation on scroll
        const sections = document.querySelectorAll('.section');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                    observer.unobserve(entry.target); // Stop observing once visible
                }
            });
        }, {
            threshold: 0.1, // Trigger when 10% of the section is visible
            rootMargin: '0px 0px -50px 0px' // Start observing slightly before it enters
        });

        sections.forEach(section => {
            section.style.opacity = 0;
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            observer.observe(section);
        });

    </script>

</body>
</html>
